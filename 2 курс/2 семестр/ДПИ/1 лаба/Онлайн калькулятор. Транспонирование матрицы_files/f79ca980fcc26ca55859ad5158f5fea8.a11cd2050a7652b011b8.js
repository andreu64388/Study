(self.webpackChunkvk=self.webpackChunkvk||[]).push([[31848],{911650:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(791750).makeIcon)("Icon16CrownCheckFillPurple","crown_check_fill_purple_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="crown_check_fill_purple_16"><path fill="#735CE6" fill-rule="evenodd" d="M14.28 10.216a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06 0l-1.5-1.5a.75.75 0 0 1 1.06-1.06l.97.97 2.47-2.47a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" /><path fill="#A393F5" fill-rule="evenodd" d="M12.717 9.1a.5.5 0 0 0 .127-.217l.37-1.298.043.001a1.2 1.2 0 0 0 .621-.167 1.28 1.28 0 0 0 .453-.448 1.19 1.19 0 0 0 .169-.625c0-.227-.056-.433-.167-.62a1.257 1.257 0 0 0-.45-.449 1.211 1.211 0 0 0-.626-.167c-.226 0-.432.056-.617.167a1.264 1.264 0 0 0-.444.451c-.111.19-.167.395-.167.618 0 .183.036.354.107.51l.019.038-1.47 1.064c-.144.102-.263.084-.354-.053L8.602 5.32l.02-.01a1.264 1.264 0 0 0 .447-.449c.11-.187.166-.396.166-.626 0-.222-.055-.428-.166-.617a1.257 1.257 0 0 0-.447-.451A1.188 1.188 0 0 0 8.002 3c-.229 0-.437.056-.624.167a1.264 1.264 0 0 0-.447.448 1.193 1.193 0 0 0-.166.62c0 .23.056.439.169.626.113.187.263.337.45.448l.017.01-1.732 2.596a.25.25 0 0 1-.14.109c-.051.012-.117-.01-.198-.066L3.85 6.884l.014-.028a1.22 1.22 0 0 0 .107-.51c0-.223-.056-.429-.167-.618a1.257 1.257 0 0 0-.447-.45 1.188 1.188 0 0 0-.619-.168c-.23 0-.437.056-.624.167a1.264 1.264 0 0 0-.447.448 1.194 1.194 0 0 0-.167.62c0 .23.056.439.17.626a1.294 1.294 0 0 0 .446.448c.186.112.393.167.622.167l.054-.002L3.484 10h8.125a.5.5 0 0 0 .354-.146l.754-.755ZM7.577 11c.086 0 .134.102.085.172a2.038 2.038 0 0 0-.28 1.693c.018.067-.03.135-.1.135H5.3c-.423 0-.751-.102-.984-.307-.233-.205-.399-.51-.498-.912L3.664 11h3.913Z" clip-rule="evenodd" /></symbol>',16,16)},812095:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(791750).makeIcon)("Icon28VmojiOutline","vmoji_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="vmoji_outline_28"><g fill="currentColor"><path d="M12 3a1 1 0 0 1-1 1 7 7 0 0 0-7 7 1 1 0 1 1-2 0 9 9 0 0 1 9-9 1 1 0 0 1 1 1zM12 25a1 1 0 0 0-1-1 7 7 0 0 1-7-7 1 1 0 1 0-2 0 9 9 0 0 0 9 9 1 1 0 0 0 1-1zM9.75 11a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5zm7.145.878c1.033-.556 2.224-.556 3.274.385.41.368.444.998.074 1.407s-1.001.442-1.412.074l-.1-.082c-.298-.22-.565-.203-.885-.03-.097.051-.162.1-.177.112l-.099.078a1.003 1.003 0 0 1-1.313-.152.994.994 0 0 1 .074-1.407c.124-.111.314-.25.564-.385zM16 16.5c.552 0 1 .45.921.996-.037.26-.087.501-.15.652a3 3 0 0 1-5.543 0 3.007 3.007 0 0 1-.15-.652c-.077-.546.37-.996.922-.996zM16 3a1 1 0 0 0 1 1 7 7 0 0 1 7 7 1 1 0 1 0 2 0 9 9 0 0 0-9-9 1 1 0 0 0-1 1zM16 25a1 1 0 0 1 1-1 7 7 0 0 0 7-7 1 1 0 1 1 2 0 9 9 0 0 1-9 9 1 1 0 0 1-1-1z" /></g></symbol>',28,28)},757450:(e,t,r)=>{"use strict";r.d(t,{IconSettingsContext:()=>n});var i=r(667294);var n=i.createContext({})},791750:(e,t,r)=>{"use strict";r.d(t,{makeIcon:()=>p});var i=r(667294),n=r(887854),o=r.n(n),a=r(757450),s=r(803389);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},l.apply(this,arguments)}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){c(e,t,r[t])}))}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function v(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var h={display:"block"};var m=function(e){var t=e.width,r=e.height,n=e.viewBox,o=e.id,s=e.className,c=void 0===s?"":s,m=e.style,p=void 0===m?{}:m,_=e.fill,g=e.getRootRef,f=e.Component,k=void 0===f?"div":f,j=e.role,x=e["aria-label"],y=e["aria-hidden"],w=v(e,["width","height","viewBox","id","className","style","fill","getRootRef","Component","role","aria-label","aria-hidden"]),P=Math.max(t,r),S=i.useContext(a.IconSettingsContext),b=function(e,t){for(var r=t.classPrefix,i=t.globalClasses,n="",o=0;o<e.length;o++)r&&(n+=" "+(r+e[o])),r&&!i||(n+=" "+e[o]);return n}(["Icon","Icon--".concat(P),"Icon--w-".concat(t),"Icon--h-".concat(r),"Icon--".concat(o)],S);return i.createElement(k,l({role:"presentation"},w,{ref:g,className:"".concat(b," ").concat(c),style:u(d({},p),{width:t,height:r})}),i.createElement("svg",{viewBox:n,width:t,height:r,style:h,role:j,"aria-label":x,"aria-hidden":y},i.createElement("use",{xlinkHref:"#".concat(o),style:{fill:"currentColor",color:_}})))};function p(e,t,r,n,a,c){var d=!1;function u(){d||((0,s.addSpriteSymbol)(new(o())({id:t,viewBox:r,content:n})),d=!0)}var v=function(e){return(0,s.useIsomorphicLayoutEffect)(u,[]),i.createElement(m,l({},e,{viewBox:r,id:t,width:isNaN(e.width)?a:+e.width,height:isNaN(e.height)?c:+e.height}))};return v.mountIcon=u,v.displayName=e,v}},803389:(e,t,r)=>{"use strict";r.d(t,{addSpriteSymbol:()=>d,useIsomorphicLayoutEffect:()=>u});var i,n=r(362548),o=r.n(n),a=r(667294),s=!("undefined"==typeof window||!window.document||!window.document.createElement);if(s){var c="__SVG_SPRITE_NODE__";i=new(o())({attrs:{id:c}});var l=function(){var e=document.getElementById(c);e?i.attach(e):i.mount(),document.removeEventListener("DOMContentLoaded",l)};document.querySelector("body")?l():document.addEventListener("DOMContentLoaded",l)}else i=null;function d(e){i&&i.add(e)}var u=s?a.useLayoutEffect:a.useEffect},480758:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon16Crown","crown_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="crown_16"><path fill="currentColor" d="M8.786 4.778a1.5 1.5 0 1 0-1.572 0L5.259 7.7a.5.5 0 0 1-.708.127L2.87 6.612A1.495 1.495 0 0 0 3 6a1.5 1.5 0 1 0-1.41 1.497L2.327 10h11.372l.734-2.502.068.002a1.5 1.5 0 1 0-1.364-.875l-1.68 1.214a.5.5 0 0 1-.708-.127L8.786 4.778Zm4.565 6.722H2.646l.255 1.15A1.723 1.723 0 0 0 4.583 14h6.832a1.723 1.723 0 0 0 1.683-1.352l.252-1.148Z" /></symbol>',16,16,!1,void 0)},846499:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon16Lock","lock_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="lock_16"><path fill="currentColor" fill-rule="evenodd" d="M14 10v1c0 1.4 0 2.1-.273 2.635a2.5 2.5 0 0 1-1.092 1.093C12.1 15 11.4 15 10 15H6c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 0 1-1.093-1.092C2 13.1 2 12.4 2 11v-1c0-1.4 0-2.1.273-2.635a2.5 2.5 0 0 1 1.092-1.093c.185-.094.389-.155.635-.196V5a4 4 0 0 1 8 0v1.077c.246.04.45.102.635.196a2.5 2.5 0 0 1 1.093 1.092C14 7.9 14 8.6 14 10Zm-4-5v1H6V5a2 2 0 1 1 4 0Z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},138163:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon16LockOpen","lock_open_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="lock_open_16"><path fill="currentColor" d="M6 6h4c1.4 0 2.1 0 2.635.273a2.5 2.5 0 0 1 1.093 1.092C14 7.9 14 8.6 14 10v1c0 1.4 0 2.1-.273 2.635a2.5 2.5 0 0 1-1.092 1.093C12.1 15 11.4 15 10 15H6c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 0 1-1.093-1.092C2 13.1 2 12.4 2 11v-1c0-1.4 0-2.1.273-2.635a2.5 2.5 0 0 1 1.092-1.093c.185-.094.389-.155.635-.196V5a4 4 0 0 1 6.981-2.667 1 1 0 0 1-1.49 1.334A2 2 0 0 0 6 5v1Z" /></symbol>',16,16,!1,void 0)},621748:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon24BrushOutline","brush_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="brush_outline_24"><path d="M20.377 3.467a1.857 1.857 0 0 0-2.558.09l-6.93 6.866a.911.911 0 0 0-.007 1.285.904.904 0 0 0 1.281.008l6.935-6.87c.044-.045.117-.018.07.04l-6.154 7.74a.911.911 0 0 0 .143 1.278.904.904 0 0 0 1.273-.143l6.15-7.735a1.85 1.85 0 0 0-.203-2.56Z" /><path fill-rule="evenodd" d="M8.488 12.624c-2.003 0-3.476 1.63-3.56 3.533-.043.938-.454 1.416-.83 1.732-.382.321-.894.553-1.052 1.065-.13.418.033.863.373 1.128.763.593 2.355 1.343 4.654.622 2.399-.752 3.977-2.509 3.977-4.506a3.568 3.568 0 0 0-3.562-3.574Zm-1.75 3.614c.046-1.037.82-1.796 1.75-1.796.967 0 1.75.786 1.75 1.756 0 .947-.789 2.17-2.705 2.77-.866.272-1.549.249-2.057.123.59-.56 1.198-1.442 1.261-2.853Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},364185:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon24HangerOutline","hanger_outline_24","0 0 24 24",'<symbol fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="hanger_outline_24"><path d="M19.238 18.1H4.762a1.762 1.762 0 0 1-.747-3.357L12 11.01l7.985 3.734a1.761 1.761 0 0 1-.747 3.358z" stroke="#3f8ae0" stroke-width="1.8" /><path d="M9.1 6.904a.9.9 0 1 0 1.8 0zm2 4.096v.9h1.8V11zm-.2-4.096a1.1 1.1 0 0 1 1.1-1.1v-1.8a2.9 2.9 0 0 0-2.9 2.9zm1.1-1.1a1.1 1.1 0 0 1 1.1 1.1h1.8a2.9 2.9 0 0 0-2.9-2.9zm1.1 1.1c0 .664-.303 1.097-.783 1.658C11.9 9.05 11.1 9.845 11.1 11h1.8c0-.345.2-.586.783-1.267.52-.606 1.217-1.471 1.217-2.829z" fill="#3f8ae0" /><path clip-rule="evenodd" d="M10.9 6.904a1.1 1.1 0 0 1 2.2 0c0 .664-.303 1.097-.784 1.658l-.122.14c-.346.395-.838.955-1.021 1.7l-7.539 3.526A2.661 2.661 0 0 0 4.761 19h14.477a2.662 2.662 0 0 0 1.128-5.072l-7.305-3.416c.122-.192.321-.427.623-.779.519-.606 1.216-1.471 1.216-2.829a2.9 2.9 0 0 0-5.8 0 .9.9 0 1 0 1.8 0zM4.397 15.56 12 12.003l7.603 3.556a.861.861 0 0 1-.365 1.642H4.762a.862.862 0 0 1-.365-1.642z" fill="currentColor" fill-rule="evenodd" /></symbol>',24,24,!1,void 0)},281536:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="more_horizontal_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2Zm-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Zm-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Z" fill="currentColor" /></g></symbol>',24,24,!1,void 0)},571285:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon28MoreHorizontal","more_horizontal_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="more_horizontal_28"><path d="M8.5 14a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm8 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm5.5 2.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z" /></symbol>',28,28,!1,void 0)},661795:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon28ShareOutline","share_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="share_outline_28"><path clip-rule="evenodd" d="M13.476 6.513c0-.442.485-.651.797-.406l9.532 7.483a.52.52 0 0 1 0 .812l-9.532 7.484a.495.495 0 0 1-.797-.406v-4.485a1 1 0 0 0-1-1c-3.565 0-6.252 1.449-8.26 3.267.362-2.161 1.153-3.807 2.225-5.046 1.497-1.73 3.637-2.78 6.22-3.264a1 1 0 0 0 .815-.983zm2.032-1.979c-1.654-1.298-4.032-.093-4.032 1.979V9.16c-2.565.61-4.854 1.79-6.548 3.749C3.051 15.079 2 18.093 2 22.05a1 1 0 0 0 1.788.616c1.741-2.226 4.175-4.292 7.688-4.625v3.438c0 2.072 2.378 3.277 4.032 1.978l9.532-7.483a2.518 2.518 0 0 0 0-3.957z" fill="currentColor" fill-rule="evenodd" /></symbol>',28,28,!1,void 0)},667784:(e,t,r)=>{"use strict";r.d(t,{addDelegateEvent:()=>s,removeDelegateEvent:()=>c});r(57327),r(66992),r(821249),r(651532),r(241539),r(323123),r(454747),r(333948);var i=r(315544),n=r(49535),o=new window.Map;function a(e){var t=o.get(e.currentTarget);if(t){var r=t[e.type];if(r)for(var n,a=0;a<r.length;a++){var s=r[a],c=s[0],l=s[1],d=void 0;if((0,i.hasClass)(e.target,c)?d=l(e,e.target):(n=(0,i.gpeByClass)(c,e.target,e.currentTarget))&&(d=l(e,n)),!1===d)break}}}function s(e,t,r,i,s){var c=o.get(e);c||(o.set(e,{}),c=o.get(e));for(var l=t.split(" "),d=0;d<l.length;d++){var u=l[d];c[u]||(c[u]=[],s?(0,n.addEvent)(e,u,a,!1,!1,s):(0,n.addEvent)(e,u,a)),c[u].push([r,i])}}function c(e,t,r,i){var s=o.get(e);s&&(t.split(" ").forEach((t=>{s[t]&&(s[t]=s[t].filter((e=>e[0]!==r||e[1]!==i)),0===s[t].length&&(0,n.removeEvent)(e,t,a))})),0===Object.keys(s).map((e=>s[e].length)).reduce(((e,t)=>e+t))&&o.delete(e))}},980309:(e,t,r)=>{"use strict";r.d(t,{getNativeOption:()=>o,createScroll:()=>l});var i=r(610124),n=r(803834);function o(e,t){return bodyNode[e]||document.documentElement[e]}class a{constructor(e,t){this.el=e,this.opts=t,this.module=(0,i.createModule)({handlers:(e,t)=>{e(window,"scroll",this.onScroll.bind(this)),e(window,"resize",this.resize.bind(this))}}),this.innerHeight=window.innerHeight,this.prevScroll=this.scrollTop()}update(){}resize(){this.innerHeight=window.innerHeight}scrollTop(e){if(void 0===e)return o("scrollTop",this.el);!function(e,t,r){"scrollTop"===e&&window.scrollTo(0,t)}("scrollTop",e,this.el)}contHeight(){return o("scrollHeight")}smoothScroll(e){(0,n.scrollToY)(e+this.scrollTop(),300)}getContainer(){return this.el}getScroller(){return null}scrollBottom(e){if(void 0===e)return this.contHeight()-this.scrollTop()-this.getScrollHeight();var t=this.contHeight()-e-this.getScrollHeight();this.scrollTop(t)}scrollBottomFixSave(e){var t=Date.now(),r=()=>{Date.now()-t<500&&this.scrollBottom(e),window.removeEventListener("scroll",r)};window.addEventListener("scroll",r),this.scrollBottom(e)}onScroll(e){var t=this.scrollTop(),r=t-this.prevScroll,i=this.contHeight();this.opts.onScroll&&this.opts.onScroll(-r,this),this.opts.scrollChange&&this.opts.scrollChange(t),this.opts.more&&i-t<2*this.innerHeight&&this.opts.more(this),this.prevScroll=t}getScrollHeight(){return this.innerHeight}destroy(){(0,i.destroyModule)(this.module)}}class s{constructor(e,t){this.prevTop=0,this.scroll=new uiScroll(e,{hidden:void 0===t.hidden||t.hidden,shadows:t.shadows,stopScrollPropagation:!1,theme:t.scrollTheme,onmore:()=>t.more&&t.more(this),onscroll:e=>{var r=this.scrollTop(),i=this.prevTop-r;this.prevTop=r,t.scrollChange&&t.scrollChange(r),t.onScroll&&t.onScroll(i,this)}})}update(){this.scroll.update("sync")}scrollTop(e){return void 0!==e?this.scroll.scrollTop(e):this.scroll.data.scrollTop}getContainer(){return this.scroll.content}getScroller(){return this.scroll.scroller}contHeight(){return this.scroll.data.scrollHeight}smoothScroll(e){this.scroll.scrollTop(this.scrollTop()+e,300)}scrollBottom(e){return void 0!==e?this.scroll.scrollBottom(e):this.scroll.data.scrollBottom}scrollBottomFixSave(e){var t=Date.now();this.scroll.emitter.addOnceListener("resize",(()=>{Date.now()-t<500&&this.scroll&&this.scrollBottom(e)})),this.scrollBottom(e)}getScrollHeight(){return this.scroll.data.viewportHeight}destroy(){this.scroll.destroy()}}class c{constructor(e,t){this.el=e}update(){}getContainer(){return this.el}getScroller(){return null}scrollTop(e){return 0}contHeight(){return 0}smoothScroll(e){}scrollBottom(e){return 0}scrollBottomFixSave(e){}getScrollHeight(){return 0}destroy(){}}function l(e,t){return t.noScroll?new c(e):t.nativeScroll?new a(e,t):new s(e,t)}},418793:(e,t,r)=>{"use strict";r.d(t,{Scroll:()=>s});r(682772);var i=r(785893),n=(r(667294),r(32821)),o=r(980309);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},a.apply(this,arguments)}var s=e=>{var t=e.children,r=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["children"]);return(0,i.jsx)(n.ScrollContext.Provider,{value:{createScroll:o.createScroll},children:(0,i.jsx)(n.Scroll,a({},r,{children:t}))})};s.defaultProps={isNative:!1,isShadows:!1,neverHide:!1,onScroll:null}},58255:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var i=r(111132);function n(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},111132:(e,t,r)=>{"use strict";function i(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}r.d(t,{default:()=>i})},374277:(e,t,r)=>{"use strict";function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function n(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=i(e.className,t):e.setAttribute("class",i(e.className&&e.className.baseVal||"",t))}r.d(t,{default:()=>n})},429697:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var i=r(722122),n=r(419756),o=r(841788),a=r(58255),s=r(374277),c=r(667294),l=r(696630),d=r(559391),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,s.default)(e,t)}))},v=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var i=t.resolveArguments(e,r),n=i[0],o=i[1];t.removeClasses(n,"exit"),t.addClass(n,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var i=t.resolveArguments(e,r),n=i[0],o=i[1]?"appear":"enter";t.addClass(n,o,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var i=t.resolveArguments(e,r),n=i[0],o=i[1]?"appear":"enter";t.removeClasses(n,o),t.addClass(n,o,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,i="string"==typeof r,n=i?""+(i&&r?r+"-":"")+e:r[e];return{baseClassName:n,activeClassName:i?n+"-active":r[e+"Active"],doneClassName:i?n+"-done":r[e+"Done"]}},t}(0,o.default)(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var i=this.getClassNames(t)[r+"ClassName"],n=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&n&&(i+=" "+n),"active"===r&&e&&(0,d.forceReflow)(e),i&&(this.appliedClasses[t][r]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))}(e,i))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],i=r.base,n=r.active,o=r.done;this.appliedClasses[t]={},i&&u(e,i),n&&u(e,n),o&&u(e,o)},r.render=function(){var e=this.props,t=(e.classNames,(0,n.default)(e,["classNames"]));return c.createElement(l.default,(0,i.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.Component);v.defaultProps={classNames:""},v.propTypes={};const h=v},696630:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var i=r(419756),n=r(841788),o=r(667294),a=r(973935),s=r(806035),c=r(500220),l=r(559391),d="unmounted",u="exited",v="entering",h="entered",m="exiting",p=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;var n,o=r&&!r.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(n=u,i.appearStatus=v):n=h:n=t.unmountOnExit||t.mountOnEnter?d:u,i.state={status:n},i.nextCallback=null,i}(0,n.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:u}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==v&&r!==h&&(t=v):r!==v&&r!==h||(t=m)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,i=this.props.timeout;return e=t=r=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,r=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===v){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);r&&(0,l.forceReflow)(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:d})},r.performEnter=function(e){var t=this,r=this.props.enter,i=this.context?this.context.isMounting:e,n=this.props.nodeRef?[i]:[a.findDOMNode(this),i],o=n[0],c=n[1],l=this.getTimeouts(),d=i?l.appear:l.enter;!e&&!r||s.default.disabled?this.safeSetState({status:h},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,c),this.safeSetState({status:v},(function(){t.props.onEntering(o,c),t.onTransitionEnd(d,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(o,c)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!s.default.disabled?(this.props.onExit(i),this.safeSetState({status:m},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(i)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(i){r&&(r=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=n[0],s=n[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(c.default.Provider,{value:null},"function"==typeof r?r(e,n):o.cloneElement(o.Children.only(r),n))},t}(o.Component);function _(){}p.contextType=c.default,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_,onEntering:_,onEntered:_,onExit:_,onExiting:_,onExited:_},p.UNMOUNTED=d,p.EXITED=u,p.ENTERING=v,p.ENTERED=h,p.EXITING=m;const g=p},500220:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=r(667294).createContext(null)},806035:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={disabled:!1}},559391:(e,t,r)=>{"use strict";r.d(t,{forceReflow:()=>i});var i=function(e){return e.scrollTop}},41929:(e,t,r)=>{"use strict";r.d(t,{BoxModal:()=>c});var i=r(570655),n=r(785893),o=r(667294),a=r(483295),s=r(161650),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=e.appearance,o=e.title,c=e.actionButtons,l=e.onClose,d=e.children,u=e.hint,v=e.hasScroll;return(0,n.jsx)("div",(0,i.__assign)({className:"BoxModal"},{children:(0,n.jsxs)("div",(0,i.__assign)({className:(0,a.classNames)("Modal","Modal--"+r,t)},{children:[(0,n.jsx)(s.default.Header,{title:o,onClose:l},void 0),Boolean(d)&&(0,n.jsx)(s.default.Body,(0,i.__assign)({hasScroll:v},{children:d}),void 0),Boolean(c)&&(0,n.jsx)(s.default.Footer,{actionButtons:c,hint:u},void 0)]}),void 0)}),void 0)},t.defaultProps={appearance:"white",hasScroll:!0},t}(o.Component)},610124:(e,t,r)=>{"use strict";r.d(t,{createMutations:()=>a,createModule:()=>l,destroyModule:()=>d});var i=r(570655),n=r(667784),o=r(49535);function a(e){return{callMutations:function(){if("function"==typeof e)throw console.trace(),new Error("Mutations are not initialized");return e},bindMutations:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if("function"!=typeof e)throw console.trace(),new Error("Mutations are already initialized");return e=e.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(t),!1))}}}function s(e,t,r,i){(0,o.addEvent)(t,r,i),e._registeredHandlers.push({handlerType:"bind",elem:t,types:r,handler:i})}function c(e,t,r,i,o,a){(0,n.addDelegateEvent)(t,r,i,o,a),e._registeredHandlers.push({handlerType:"delegate",elem:t,types:r,selector:i,handler:o})}function l(e){var t={_registeredHandlers:[]};return e.handlers((function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return s.apply(void 0,(0,i.__spreadArray)([t],(0,i.__read)(e),!1))}),(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return c.apply(void 0,(0,i.__spreadArray)([t],(0,i.__read)(e),!1))})),t}function d(e){e._registeredHandlers.forEach((function(e){var t=e.handlerType,r=e.elem,i=e.types,a=e.handler;"delegate"===t?(0,n.removeDelegateEvent)(r,i,e.selector,a):(0,o.removeEvent)(r,i,a)})),e._registeredHandlers=[]}},295308:(e,t,r)=>{"use strict";r.d(t,{VmojiAvatarModal:()=>L});var i=r(570655),n=r(785893),o=r(667294),a=r(575867),s=r(70580),c=r(605382),l=r(944340),d=r(161650),u=r(423985),v=r(753449),h=r(702272),m=r(639792),p=r(928424),_=r(193413),g=r(664590),f=r(912860),k=r(262038),j=r(872289),x=r(296825),y=r(26363),w=r(622323),P=r(590359),S=r(656294),b=r(661795),C=r(571285),E=r(511417),N=r(19331),V=r(70162),I=r(659397),B=r(146143),A=r(159121),L=function(e){function t(t){var r=e.call(this,t)||this;return r.updateStickerRenders=function(e){r.setState({stickerRenders:(0,i.__assign)((0,i.__assign)({},r.state.stickerRenders),r.stickerRendersToDictionary(e))})},r.handleProductClick=function(e,t){e.stopPropagation(),t.is_purchased||r.state.selectedProductId===t.id||(r.setActiveProduct(t.id),r.setState({showProductSnackbar:!0}))},r.handleModalClick=function(e){var t=r.state.selectedProductId,i=e.target;t&&i&&(i.closest(".VmojiAvatarModal__selectedProduct")||i.closest(".VmojiProductPreview")||r.setState({showProductSnackbar:!1}))},r.handleKeyDown=function(e){var t=r.state,i=t.showGrid,n=t.showProductFitting,o=t.showProductSnackbar,a="none"!==i||n||o;"Escape"==e.key&&a&&(e.preventDefault(),e.stopPropagation(),n?r.setIsProductPreview(!1):"none"!==i?r.setActiveGrid("none"):o&&r.setState({showProductSnackbar:!1}))},r.state={stickerRenders:r.stickerRendersToDictionary(t.stickerRenders),stickerPacks:(0,i.__assign)((0,i.__assign)({},r.filterStickersPackPreview(t.stickerPacks.previews)),{nextFrom:t.stickerPacks.next_from}),isAvatarActive:!t.canEdit||!!t.avatar.is_active,showProductFitting:!1,showProductSnackbar:!1,selectedProductId:null,showGrid:"none",showGridBlockId:null},r}return(0,i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;window.addEventListener("keydown",this.handleKeyDown,{capture:!0}),(0,a.vmojiSubscribeToQueue)().then((function(t){var r=t.key,i=t.ts;(0,s.subscribeToQueue)(r,i,(function(t){e.updateStickerRenders(t)}))})).catch((function(e){console.error(e)}))},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.handleKeyDown,{capture:!0})},t.prototype.render=function(){return(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiAvatarModal",onClick:this.handleModalClick},{children:[this.renderCloseButton(),(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiAvatarModal__container"},{children:[this.renderHeader(),(0,n.jsxs)(d.default.Body,(0,i.__assign)({hasScroll:!1},{children:[this.renderContent(),this.renderGrid(),this.renderSnackbar()]}),void 0),this.renderFitting()]}),void 0)]}),void 0)},t.prototype.renderCloseButton=function(){return(0,n.jsx)("a",(0,i.__assign)({className:"VmojiAvatarModal__close",onClick:this.props.close},{children:(0,n.jsx)(S.default,{},void 0)}),void 0)},t.prototype.renderContent=function(){return this.props.canEdit?this.renderOwnCharacter():this.renderCharacter()},t.prototype.renderOwnCharacter=function(){var e=this,t=this.state.stickerPacks.nextFrom;return(0,n.jsxs)(u.default,(0,i.__assign)({className:"VmojiAvatarModal__scroll",hasMore:!!t,loadMore:function(){return e.fetchStickerPacks()}},{children:[this.renderAvatar(),this.renderRecommendations(),this.renderStickerPacks()]}),void 0)},t.prototype.renderCharacter=function(){return(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiAvatarModal__scroll"},{children:[this.renderAvatar(),this.renderProducts(),this.renderStickerPacks(),this.renderRecommendations()]}),void 0)},t.prototype.renderAvatar=function(){var e=this.props,t=e.isOwn,r=e.canEdit,o=e.hasOwnAvatar,a=e.avatar,s=e.restore,c=this.state.isAvatarActive,d=(0,I.classNames)("VmojiAvatarModal__preview",{"VmojiAvatarModal__preview--border":o});return(0,n.jsxs)(h.VmojiModalSection,(0,i.__assign)({className:d},{children:[(0,n.jsx)("div",(0,i.__assign)({className:"VmojiAvatarModal__actions"},{children:this.renderActions()}),void 0),(0,n.jsx)(p.VmojiCharacterPreview,{url:this.getCharacterPreviewUrl(),color:this.getCharacterPreviewColor(),disabled:!c||t&&!r},void 0),(0,n.jsx)("span",(0,i.__assign)({className:"VmojiAvatarModal__avatarTitle"},{children:a.name}),void 0),r&&(0,n.jsxs)(n.Fragment,{children:[!c&&(0,n.jsx)("span",(0,i.__assign)({className:"VmojiAvatarModal__avatarDescription"},{children:(0,V.getLang)("vmoji_layer_hidden_character")}),void 0),(0,n.jsx)(_.VmojiCharacterEditLink,(0,i.__assign)({className:"VmojiAvatarModal__editLink",onClick:function(e){var t=e.nativeEvent;return(0,l.showVmojiConstructor)(t,{character_id:a.character_id},s)}},{children:(0,V.getLang)("vmoji_layer_edit_link")}),void 0)]},void 0),t&&!r&&(0,n.jsx)(_.VmojiCharacterEditLink,(0,i.__assign)({className:"VmojiAvatarModal__editLink",onClick:function(e){var t=e.nativeEvent;return(0,l.showVmojiConstructor)(t,{character_id:a.character_id},s)}},{children:(0,V.getLang)("vmoji_layer_open_link")}),void 0),!o&&(0,n.jsx)(g.VmojiCharacterCreationSuggest,{className:"VmojiAvatarModal__creationSuggest",onClick:function(e){var t=e.nativeEvent;return(0,l.showVmojiConstructor)(t,{create:""},s)}},void 0)]}),void 0)},t.prototype.renderProducts=function(){var e,t=this,r=this.props.products;return r.length?(r.length>5&&(e={title:(0,V.getLang)("vmoji_layer_show_all"),onclick:function(){return t.setActiveGrid("products")}}),(0,n.jsxs)(h.VmojiModalSection,{children:[(0,n.jsx)(m.VmojiModalSectionHeader,{title:(0,V.getLang)("vmoji_layer_products_title"),link:e},void 0),(0,n.jsx)("div",(0,i.__assign)({className:"VmojiAvatarModal__products"},{children:(this.getCurrentCharacter().product_ids||[]).slice(0,5).map((function(e){var r=t.getProductById(e);return(0,n.jsx)(f.VmojiProductItem,{product:r,small:!0,isActive:t.state.selectedProductId===r.id,onClick:function(e){return t.handleProductClick(e,r)}},r.id)}))}),void 0)]},void 0)):null},t.prototype.renderStickerPacks=function(){var e=this,t=this.props.canEdit,r=this.state.stickerPacks,i=r.activeStickerPacks,o=r.hiddenStickerPacks,a=t?i:i.slice(0,1);return(0,n.jsxs)(n.Fragment,{children:[a.length>0&&(0,n.jsxs)(h.VmojiModalSection,{children:[(0,n.jsx)(m.VmojiModalSectionHeader,{title:t?(0,V.getLang)("vmoji_layer_my_packs_title"):(0,V.getLang)("vmoji_layer_packs_title")},void 0),a.map((function(r){return(0,n.jsx)(k.VmojiStickerPackExtended,{className:"VmojiAvatarModal__stickerPacks",isActive:r.is_active,stickersPack:r,canManage:t,toggleStickerPack:function(t){return e.toggleStickerPack(t)}},r.id)}))]},void 0),t&&o.length>0&&(0,n.jsxs)(h.VmojiModalSection,{children:[(0,n.jsx)(m.VmojiModalSectionHeader,{title:(0,V.getLang)("vmoji_layer_hidden_packs_title")},void 0),o.map((function(r){return(0,n.jsx)(k.VmojiStickerPackExtended,{className:"VmojiAvatarModal__stickerPacks",isActive:r.is_active,stickersPack:r,canManage:t,toggleStickerPack:function(t){return e.toggleStickerPack(t)}},r.id)}))]},void 0)]},void 0)},t.prototype.renderRecommendations=function(){var e=this;return this.props.recommendations.blocks.map((function(t){return(0,n.jsxs)(h.VmojiModalSection,{children:[(0,n.jsx)(m.VmojiModalSectionHeader,{title:t.title,link:t.pack_ids.length>5?{title:(0,V.getLang)("vmoji_layer_show_all"),onclick:function(){return e.setActiveGrid("stickers",t.id)}}:void 0},void 0),(0,n.jsx)("div",(0,i.__assign)({className:"VmojiAvatarModal__blocks"},{children:t.pack_ids.slice(0,5).map((function(t){return(0,n.jsx)(j.VmojiStickerPack,{stickerPack:e.getRecommendationsPackById(t)},t)}))}),void 0)]},t.id)}))},t.prototype.renderActions=function(){var e=this,t=this.props.canEdit,r=(0,N.partConfigEnabled)("vmoji_web2_show_share_box");return(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)("span",(0,i.__assign)({className:"VmojiAvatarModal__action",onClick:function(){return e.shareBox()}},{children:(0,n.jsx)(b.default,{},void 0)}),void 0),t&&(0,n.jsx)(v.default,(0,i.__assign)({position:"b",align:"right",trigger:"hover",appearance:"fancy",data:this.getActions()},{children:(0,n.jsx)("span",(0,i.__assign)({className:"VmojiAvatarModal__action","aria-hidden":!0},{children:(0,n.jsx)(C.default,{},void 0)}),void 0)}),void 0)]},void 0)},t.prototype.renderFitting=function(){var e=this,t=this.state,r=t.showProductFitting,i=t.stickerRenders,o=this.getCurrentProduct();return r&&o?(0,n.jsx)(w.VmojiProductPreview,{className:"VmojiAvatarModal__fitting",product:o,close:function(){return e.setIsProductPreview(!1)},stickerRenders:i,updateStickerRenders:this.updateStickerRenders},void 0):null},t.prototype.renderSnackbar=function(){var e=this,t=this.state.showProductSnackbar,r=this.getCurrentProduct();return(0,n.jsx)(x.VmojiSnackbar,(0,i.__assign)({isShown:t,onExited:function(){return e.setActiveProduct(null)}},{children:(0,n.jsx)("div",(0,i.__assign)({className:"VmojiAvatarModal__selectedProduct"},{children:r&&(0,n.jsx)(y.VmojiSelectedProduct,{product:r,buyProduct:function(){return(0,P.sendProduct)(r.id)},tryProduct:function(){return e.setIsProductPreview(!0)}},void 0)}),void 0)}),void 0)},t.prototype.renderGrid=function(){var e=this.state.showGrid;return"products"===e?this.renderProductsGrid():"stickers"===e?this.renderStickersGrid():void 0},t.prototype.renderProductsGrid=function(){var e,t=this,r=this.getCurrentCharacter();return(0,n.jsx)("div",(0,i.__assign)({className:"VmojiAvatarModal__grid"},{children:null===(e=r.product_ids)||void 0===e?void 0:e.map((function(e){var r=t.getProductById(e);return(0,n.jsx)(f.VmojiProductItem,{product:r,small:!1,isActive:t.state.selectedProductId===r.id,onClick:function(e){return t.handleProductClick(e,r)}},r.id)}))}),void 0)},t.prototype.renderStickersGrid=function(){var e=this,t=this.state.showGridBlockId;if(!t)return null;var r=this.getBlockById(t);return(0,n.jsx)("div",(0,i.__assign)({className:"VmojiAvatarModal__grid"},{children:r.pack_ids.map((function(t){return(0,n.jsx)(j.VmojiStickerPack,{stickerPack:e.getRecommendationsPackById(t),size:"large"},t)}))}),void 0)},t.prototype.renderHeader=function(){var e=this,t=this.state,r=t.showGrid,i=t.showGridBlockId;if("none"===r)return null;var o="";if("products"===r)o=(0,V.getLang)("vmoji_layer_products_title");else if("stickers"===r&&i){o=this.getBlockById(i).title}return(0,n.jsx)(d.default.Header,{title:o,backText:(0,V.getLang)("vmoji_layer_back"),onBack:function(){return e.setActiveGrid("none")},onClose:function(){}},void 0)},t.prototype.stickerRendersToDictionary=function(e){return e.reduce((function(e,t){var r;return t.id?(0,i.__assign)((0,i.__assign)({},e),((r={})[t.id]=t,r)):e}),{})},t.prototype.filterStickersPackPreview=function(e){var t=[],r=[];return e.forEach((function(e){return e.is_active?t.push(e):r.push(e)})),{activeStickerPacks:t,hiddenStickerPacks:r}},t.prototype.getCharacterById=function(e){return this.props.characters.find((function(t){return t.id===e}))},t.prototype.getCurrentCharacter=function(){return this.getCharacterById(this.props.avatar.character_id)},t.prototype.getCharacterPreviewUrl=function(){var e=this.props.stickerRenders,t=this.getCurrentCharacter().preview;if(!t||!t.body)return"/images/svg_icons/vmoji/vmoji_stub_body.svg";var r=null==e?void 0:e.find((function(e){return e.id===t.body}));return r&&!r.is_stub&&r.images?(0,c.getImageSize)(r.images,180,"light"):"/images/svg_icons/vmoji/vmoji_stub_body.svg"},t.prototype.getCharacterPreviewColor=function(){var e=this.getCurrentCharacter().preview;if(!e)return"";var t=e.background_color;return t?(0,c.argb2rgba)(E.colorScheme.isDarkScheme()?t.dark:t.light):""},t.prototype.getActions=function(){var e=this,t=this.props.restore,r=this.state.isAvatarActive;return[{text:(0,V.getLang)("vmoji_layer_recreate_character"),onClick:function(e){var r=e.nativeEvent;return(0,l.showVmojiConstructor)(r,{create:""},t)}},{text:r?(0,V.getLang)("vmoji_layer_deactivate_character"):(0,V.getLang)("vmoji_layer_activate_character"),negative:r,onClick:function(){return e.toggleCharacter()}}]},t.prototype.getProductById=function(e){return this.props.products.find((function(t){return t.id===e}))},t.prototype.getStickerPackById=function(e){var t=this.state.stickerPacks;return(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(t.activeStickerPacks),!1),(0,i.__read)(t.hiddenStickerPacks),!1).find((function(t){return t.id===e}))},t.prototype.getRecommendationsPackById=function(e){var t;return null===(t=this.props.recommendations.packs)||void 0===t?void 0:t.find((function(t){return t.id===e}))},t.prototype.getCurrentProduct=function(){var e=this.state.selectedProductId;return e?this.getProductById(e):null},t.prototype.getBlockById=function(e){return this.props.recommendations.blocks.find((function(t){return t.id===e}))},t.prototype.fetchStickerPacks=function(){var e=this,t=this.state.stickerPacks,r=t.nextFrom,n=t.activeStickerPacks,o=t.hiddenStickerPacks;return r?new Promise((function(t,s){(0,a.vmojiGetStickerPacks)({start_from:r}).then((function(r){var a=r.next_from,s=r.previews,c=e.filterStickersPackPreview(s),l=c.activeStickerPacks,d=c.hiddenStickerPacks;return e.setState({stickerPacks:{nextFrom:a,activeStickerPacks:(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(n),!1),(0,i.__read)(l),!1),hiddenStickerPacks:(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(o),!1),(0,i.__read)(d),!1)}}),t(!0)})).catch((function(){return s()}))})):Promise.resolve()},t.prototype.shareBox=function(){var e=this.props,t=e.avatar,r=e.packId;(0,B.showBox)("like.php",{act:"publish_box",object:"vmoji"+t.id+(r?"_"+r:"")})},t.prototype.toggleCharacter=function(){var e=this,t=this.props,r=t.userId,i=t.avatar,n=this.state.isAvatarActive;(0,a.vmojiSetAvatarState)(r+"_"+i.character_id,!n).then((function(){e.setState({isAvatarActive:!n})})).catch((function(e){var t;(0,A.topError)((null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.error_msg)||(0,V.getLang)("global_unknown_error"))}))},t.prototype.setActiveGrid=function(e,t){void 0===t&&(t=null),this.setState({showGrid:e,showGridBlockId:t})},t.prototype.setActiveProduct=function(e){this.setState({selectedProductId:e})},t.prototype.toggleStickerPack=function(e){var t=this,r=this.getStickerPackById(e);r&&(r.is_active?a.storeDeactivateProduct:a.storeActivateProduct)(e).then((function(){var r=t.state.stickerPacks,n=r.activeStickerPacks,o=r.hiddenStickerPacks,a=r.nextFrom,s=JSON.parse(JSON.stringify((0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(n),!1),(0,i.__read)(o),!1))),c=s.find((function(t){return t.id===e}));c.is_active=!c.is_active;var l=t.filterStickersPackPreview(s),d=l.activeStickerPacks,u=l.hiddenStickerPacks;t.setState({stickerPacks:{activeStickerPacks:d,hiddenStickerPacks:u,nextFrom:a}})})).catch((function(e){var t;(0,A.topError)((null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.error_msg)||(0,V.getLang)("global_unknown_error"))}))},t.prototype.setIsProductPreview=function(e){this.setState({showProductFitting:e})},t.prototype.fetchRecommendationBlockById=function(e){return new Promise((function(t,r){(0,a.vmojiGetStickerPacksRecommendationBlock)(e).then((function(e){var r=e.block,i=e.packs;return console.log(r,i),t(!0)})).catch((function(){return r()}))}))},t}(o.Component)},823535:(e,t,r)=>{"use strict";r.d(t,{VmojiBadge:()=>o});var i=r(570655),n=r(785893),o=function(e){var t=e.className,r=void 0===t?"":t,o=e.text,a=e.type;return(0,n.jsx)("div",(0,i.__assign)({className:"VmojiBadge VmojiBadge--"+a+" "+r},{children:o}),void 0)}},664590:(e,t,r)=>{"use strict";r.d(t,{VmojiCharacterCreationSuggest:()=>c});var i=r(570655),n=r(785893),o=r(70162),a=r(812095),s=r(783199),c=function(e){var t=e.className,r=void 0===t?"":t,c=e.onClick;return(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiCharacterCreationSuggest "+r,onClick:c},{children:[(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiCharacterCreationSuggest__content"},{children:[(0,n.jsx)(a.default,{className:"VmojiCharacterCreationSuggest__icon"},void 0),(0,n.jsx)("span",(0,i.__assign)({className:"VmojiCharacterCreationSuggest__text"},{children:(0,o.getLang)("vmoji_layer_new_character")}),void 0)]}),void 0),(0,n.jsx)(s.default,{className:"VmojiCharacterCreationSuggest__arrow"},void 0)]}),void 0)}},193413:(e,t,r)=>{"use strict";r.d(t,{VmojiCharacterEditLink:()=>s});var i=r(570655),n=r(785893),o=r(621748),a=r(86894),s=function(e){var t=e.children,r=e.className,s=(0,i.__rest)(e,["children","className"]);return(0,n.jsx)(a.Button,(0,i.__assign)({className:"VmojiCharacterEditLink__button "+r,size:"s",mode:"tertiary",appearance:"accent",before:(0,n.jsx)(o.default,{},void 0)},s,{children:(0,n.jsx)(a.Text,(0,i.__assign)({weight:"medium"},{children:t}),void 0)}),void 0)}},928424:(e,t,r)=>{"use strict";r.d(t,{VmojiCharacterPreview:()=>o});var i=r(785893),n=r(659397),o=function(e){var t=e.color,r=e.url,o=e.size,a=void 0===o?180:o,s=e.disabled,c=void 0!==s&&s,l=(0,n.classNames)("VmojiCharacterPreview","VmojiCharacterPreview--"+a,{"VmojiCharacterPreview--disable":c});return(0,i.jsx)("div",{className:l,style:{backgroundImage:"url('"+r+"')",backgroundColor:t}},void 0)}},702272:(e,t,r)=>{"use strict";r.d(t,{VmojiModalSection:()=>a});var i=r(570655),n=r(785893),o=r(659397),a=function(e){var t=e.className,r=void 0===t?"":t,a=e.children;return(0,n.jsx)("div",(0,i.__assign)({className:(0,o.classNames)("VmojiModalSection",r)},{children:a}),void 0)}},639792:(e,t,r)=>{"use strict";r.d(t,{VmojiModalSectionHeader:()=>a});var i=r(570655),n=r(785893),o=r(664891),a=function(e){var t=e.title,r=e.link;return(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiModalSectionHeader"},{children:[(0,n.jsx)("span",(0,i.__assign)({className:"VmojiModalSectionHeader__title"},{children:t}),void 0),r&&(0,n.jsx)(o.default,(0,i.__assign)({className:"VmojiModalSectionHeader__link",onClick:r.onclick},{children:r.title}),void 0)]}),void 0)}},912860:(e,t,r)=>{"use strict";r.d(t,{VmojiProductItem:()=>m});var i=r(570655),n=r(785893),o=r(823535),a=r(605382),s=r(70162),c=r(659397),l=r(138163),d=r(846499),u=r(480758),v=r(911650),h=r(511417),m=function(e){var t=e.product,r=e.onClick,m=e.isActive,p=void 0!==m&&m,_=e.small,g=t.title,f=t.price,k=t.images,j=h.colorScheme.isDarkScheme()?"dark":"light",x=(0,a.getImageSize)(k||[],_?72:98,j),y="VmojiProductItem__icon",w="",P=null,S=t.is_locked,b=t.is_unlocked,C=t.is_purchased;S?b||C?(P=(0,n.jsx)(l.default,{className:y+" "+y+"--green"},void 0),w=(0,s.getLang)("vmoji_layer_item_available")):(P=(0,n.jsx)(d.default,{className:y+" "+y+"--gray"},void 0),w=(0,s.getLang)("vmoji_layer_item_locked")):C?(P=(0,n.jsx)(v.default,{className:y+" "+y+"--purple"},void 0),w=(0,s.getLang)("vmoji_layer_item_already_purchased")):(P=(0,n.jsx)(u.default,{className:y+" "+y+"--purple"},void 0),w=(0,s.getLang)("vmoji_layer_item_price",t.price.current));var E,N=(0,c.classNames)("VmojiProductItem",{"VmojiProductItem--active":p,"VmojiProductItem--small":_,"VmojiProductItem--purchased":t.is_purchased});return(0,n.jsxs)("div",(0,i.__assign)({className:N,onClick:r},{children:[(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiProductItem__inner",style:{backgroundImage:"url("+x+")"}},{children:[(E=t.badge,E?(0,n.jsx)(o.VmojiBadge,{className:"VmojiProductItem__badge",type:E.type,text:E.text||E.type},void 0):null),P]}),void 0),!_&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",(0,i.__assign)({className:"VmojiProductItem__title"},{children:g}),void 0),!t.is_purchased&&!t.is_locked&&f.regular&&(0,n.jsx)("span",(0,i.__assign)({className:"VmojiProductItem__oldPrice"},{children:(0,s.getLang)("vmoji_layer_item_price",f.regular)}),void 0),(0,n.jsx)("span",(0,i.__assign)({className:"VmojiProductItem__price"},{children:w}),void 0)]},void 0)]}),void 0)}},622323:(e,t,r)=>{"use strict";r.d(t,{VmojiProductPreview:()=>f});var i=r(570655),n=r(785893),o=r(86894),a=r(733024),s=r(659397),c=r(667294),l=r(288420),d=r(439664),u=r(575867),v=r(928424),h=r(590359),m=r(786067),p=r(70162),_=r(605382),g=r(511417),f=function(e){var t,r,f,k,j=e.className,x=e.product,y=e.close,w=e.stickerRenders,P=e.updateStickerRenders,S=(0,i.__read)((0,c.useState)(),2),b=S[0],C=S[1];(0,c.useEffect)((function(){var e;(0,u.vmojiGetCharacterById)((null===(e=x.preview)||void 0===e?void 0:e.character_id)||"",!0).then((function(e){var t=e.character,r=e.sticker_renders;P(r||[]),C(t)})).catch((function(e){console.log(e)}))}),[]);var E=function(e){return w[e]},N="";if(b&&b.preview){var V=b.preview.background_color;V&&(N=(0,_.argb2rgba)(g.colorScheme.isDarkScheme()?V.dark:V.light))}var I=E((null===(t=null==b?void 0:b.preview)||void 0===t?void 0:t.body)||""),B="/images/svg_icons/vmoji/vmoji_stub_body.svg";!I||I.is_stub||I.is_rendering||(B=(0,_.getImageSize)(I.images||[],164));var A=x.price.current,L=0===A,M=null===(r=x.preview)||void 0===r?void 0:r.caption,O=(0,s.classNames)("VmojiProductPreview",j);return(0,n.jsxs)("div",(0,i.__assign)({className:O},{children:[(0,n.jsx)("div",{className:"VmojiProductPreview__overlay",onClick:y},void 0),(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiProductPreview__inner"},{children:[(0,n.jsx)(a.default,{className:"VmojiProductPreview__close",onClick:y},void 0),b&&w&&I?(0,n.jsxs)(n.Fragment,{children:[M&&(0,n.jsx)(o.Caption,(0,i.__assign)({className:"VmojiProductPreview__title"},{children:M}),void 0),(0,n.jsx)(v.VmojiCharacterPreview,{url:B,color:N,size:164},void 0),(0,n.jsx)("div",(0,i.__assign)({className:"VmojiProductPreview__previews"},{children:null===(k=null===(f=b.preview)||void 0===f?void 0:f.stickers)||void 0===k?void 0:k.slice(0,3).map((function(e){var t=E(e),r="/images/svg_icons/vmoji/vmoji_stub_sticker.svg";if(t){var i=(0,_.getImageSize)(t.images,96);i&&(r=i)}return(0,n.jsx)("img",{src:r,className:"VmojiProductPreview__preview"},e)}))}),void 0),(0,n.jsx)(l.default,(0,i.__assign)({appearance:L?"primary":"positive",onClick:function(){return(0,h.sendProduct)(x.id)}},{children:L?(0,p.getLang)("vmoji_layer_item_free"):(0,m.langStr)((0,p.getLang)("vmoji_layer_buy_at_price"),"price",(0,p.getLang)("vmoji_layer_item_price",A))}),void 0)]},void 0):(0,n.jsx)(d.default,{},void 0)]}),void 0)]}),void 0)}},235808:(e,t,r)=>{"use strict";r.d(t,{VmojiPurchaseBox:()=>m});var i=r(570655),n=r(785893),o=r(667294),a=r(70162),s=r(146143),c=r(41929),l=r(288420),d=r(118690),u=r(575867),v=r(605382),h=r(486125);function m(e){var t=e.product,r=e.balance,m=e.onDone,p=e.onClose,_=t.title,g=t.images,f=t.price.current,k=0===f,j=(0,i.__read)((0,o.useState)(!1),2),x=j[0],y=j[1],w=function(e){var t;null===(t=(0,h.curBox)())||void 0===t||t.hide(),p(e)},P=k?(0,n.jsxs)("span",(0,i.__assign)({className:"VmojiPurchaseBoxHeader__cost"},{children:[(0,a.getLang)("vmoji_price_label")," ",(0,a.getLang)("vmoji_price_free")]}),void 0):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",(0,i.__assign)({className:"VmojiPurchaseBoxHeader__cost"},{children:[(0,a.getLang)("vmoji_price_label")," ",(0,a.getLang)("vmoji_price",f)]}),void 0),(0,n.jsx)("span",(0,i.__assign)({className:"VmojiPurchaseBoxHeader__balance"},{children:(0,a.getLang)("vmoji_balance",r)}),void 0)]},void 0),S=(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiPurchaseBoxHeader"},{children:[(0,n.jsx)("div",{className:"VmojiPurchaseBoxHeader__preview",style:{backgroundImage:"url("+(0,v.getImageSize)(g||[],64)+")"}},void 0),(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiPurchaseBoxHeader__content"},{children:[(0,n.jsx)("p",(0,i.__assign)({className:"VmojiPurchaseBoxHeader__title"},{children:_}),void 0),P]}),void 0)]}),void 0),b=[(0,n.jsx)(l.default,(0,i.__assign)({appearance:"secondary",onClick:w},{children:(0,a.getLang)("global_cancel")}),1),(0,n.jsx)(d.default,(0,i.__assign)({loading:x,onClick:function(){y(!0),(0,u.vmojiPurchaseProduct)(t.id,!0).then((function(e){m(e),w()})).catch((function(e){(0,s.showFastBox)((0,a.getLang)("global_error"),(0,a.getLang)("global_error")),w(e)})).finally((function(){y(!1)}))}},{children:k?(0,a.getLang)("vmoji_get"):(0,a.getLang)("vmoji_pay")}),2)];return(0,n.jsx)(c.BoxModal,(0,i.__assign)({className:"VmojiPurchaseBox",hasScroll:!1,title:S,onClose:w,actionButtons:b},{children:(0,n.jsx)("div",(0,i.__assign)({className:"VmojiPurchaseBox__content"},{children:(0,n.jsx)("p",(0,i.__assign)({className:"VmojiPurchaseBox__message"},{children:k?(0,a.getLang)("vmoji_confirmation_message_free"):(0,a.getLang)("vmoji_confirmation_message_sum",f)}),void 0)}),void 0)}),void 0)}},590359:(e,t,r)=>{"use strict";r.d(t,{sendProduct:()=>c});var i=r(570655),n=r(785893),o=r(481117),a=r(235808),s=r(575867),c=function(e){return new Promise((function(t,r){var c=function(e){t(e)},l=function(){t(!1)};Promise.all([(0,s.vmojiPurchaseProduct)(e),(0,s.vmojiGetLangs)(s.VmojiLangSection.PURCHASE)]).then((function(e){var t=(0,i.__read)(e,1)[0].confirmation;if(!t)throw new Error("Confirmation is undefined");var r=t.product,s=t.balance;(0,o.showComponentInBox)((0,n.jsx)(a.VmojiPurchaseBox,{product:r,balance:s,onDone:c,onClose:l},void 0),{width:520,onDestroy:l})})).catch((function(i){var n;504!==(null===(n=null==i?void 0:i.error)||void 0===n?void 0:n.error_code)?r(i):function(e){return new Promise((function(t,r){window.ajax.post("al_payments.php",{act:"getvotes_box",product_id:e},{onDone:function(){t(!0)},onFail:function(e){return r(e),!0}})}))}(e).then((function(){(0,s.vmojiPurchaseProduct)(e,!0).then(t).catch(r)})).catch(r)}))}))}},26363:(e,t,r)=>{"use strict";r.d(t,{VmojiSelectedProduct:()=>l});var i=r(570655),n=r(785893),o=r(288420),a=r(364185),s=r(70162),c=r(605382),l=function(e){var t,r,l=e.product,d=e.buyProduct,u=e.tryProduct,v=l.unlock_info;return(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiSelectedProduct"},{children:[(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiSelectedProduct__inner"},{children:[(0,n.jsx)("div",{className:"VmojiSelectedProduct__preview",style:{backgroundImage:"url("+(0,c.getImageSize)(l.images||[],72)+")"}},void 0),(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiSelectedProduct__content"},{children:[(0,n.jsx)("span",(0,i.__assign)({className:"VmojiSelectedProduct__name"},{children:v?v.title:l.title}),void 0),(0,n.jsx)("span",(0,i.__assign)({className:"VmojiSelectedProduct__description"},{children:v?v.text:l.description}),void 0)]}),void 0)]}),void 0),(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiSelectedProduct__actions"},{children:[l.is_locked&&!l.is_unlocked?function(){var e=l.unlock_info;if(!e)return null;var t=e.button;return t&&t.action?(0,n.jsx)(o.default,(0,i.__assign)({appearance:"primary",onClick:function(){var e;return window.open(null===(e=t.action)||void 0===e?void 0:e.url,"_blank")}},{children:t.title}),void 0):null}():(t=l.price.current,r=0===t,(0,n.jsx)(o.default,(0,i.__assign)({appearance:r?"primary":"positive",onClick:function(){return d(l.id)}},{children:(0,s.getLang)(r?"vmoji_layer_item_free":"vmoji_layer_item_price",t)}),void 0)),l.preview&&(0,n.jsx)(o.default,(0,i.__assign)({className:"VmojiSelectedProduct__tryButton",appearance:"secondary",onClick:function(){return u()}},{children:(0,n.jsx)(a.default,{className:"VmojiSelectedProduct__tryButtonIcon"},void 0)}),void 0)]}),void 0)]}),void 0)}},296825:(e,t,r)=>{"use strict";r.d(t,{VmojiSnackbar:()=>a});var i=r(570655),n=r(785893),o=r(429697),a=function(e){var t=e.isShown,r=e.onExited,a=e.children;return(0,n.jsx)(o.default,(0,i.__assign)({in:t,classNames:{enter:"VmojiSnackbar--enter",enterActive:"VmojiSnackbar--enterActive",exitActive:"VmojiSnackbar--exitActive",exit:"VmojiSnackbar--exit"},onExited:r,addEndListener:function(e,t){e.addEventListener("transitionend",(function(e){e.target===e.currentTarget&&t()}),!1)},unmountOnExit:!0},{children:a}),void 0)}},872289:(e,t,r)=>{"use strict";r.d(t,{VmojiStickerPack:()=>d});var i=r(570655),n=r(785893),o=r(823535),a=r(605382),s=r(659397),c=r(70162),l=r(695724),d=function(e){var t,r,d,u=e.className,v=void 0===u?"":u,h=e.stickerPack,m=e.size,p=void 0===m?"regular":m,_=(0,s.classNames)("VmojiStickerPack",{"VmojiStickerPack--large":"large"===p},v);return(0,n.jsxs)("div",(0,i.__assign)({className:_,onClick:function(){return window.Emoji.previewSticker(h.id)},title:h.title,style:{width:p}},{children:[(0,n.jsx)("div",(0,i.__assign)({className:"VmojiStickerPack__preview",style:{backgroundImage:"url("+(d=h.icon,(d?(0,a.getStickerIconUrl)(d,(0,l.isRetina)()?"square_2x.png":"square.png"):"")+")"),height:p}},{children:function(){var e=h.badge;if(!e)return null;var t=e.subtype,r=e.text;return t?(0,n.jsx)(o.VmojiBadge,{className:"VmojiStickerPack__badge",type:t,text:r||t},void 0):null}()}),void 0),(0,n.jsx)("div",(0,i.__assign)({className:"VmojiStickerPack__name"},{children:h.title}),void 0),!h.is_purchased&&(null===(t=h.price)||void 0===t?void 0:t.discount)&&(null===(r=h.price)||void 0===r?void 0:r.regular)&&(0,n.jsx)("div",(0,i.__assign)({className:"VmojiStickerPack__discount"},{children:(0,c.getLang)("vmoji_layer_item_price",h.price.regular)}),void 0),(0,n.jsx)("div",(0,i.__assign)({className:"VmojiStickerPack__price"},{children:h.is_purchased?(0,c.getLang)("vmoji_layer_item_already_purchased"):h.is_active?h.price&&0!==h.price.current?(0,c.getLang)("vmoji_layer_item_price",h.price.current):(0,c.getLang)("vmoji_layer_item_free"):(0,c.getLang)("vmoji_layer_item_locked")}),void 0)]}),void 0)}},262038:(e,t,r)=>{"use strict";r.d(t,{VmojiStickerPackExtended:()=>h});var i=r(570655),n=r(785893),o=r(288420),a=r(753449),s=r(659397),c=r(70162),l=r(605382),d=r(695724),u=r(511417),v=r(281536),h=function(e){var t,r,h,m=e.className,p=void 0===m?"":m,_=e.stickersPack,g=e.isActive,f=e.canManage,k=e.toggleStickerPack,j=(0,s.classNames)("VmojiStickerPackExtended",p,{"VmojiStickerPackExtended--disabled":!g});return(0,n.jsxs)("div",(0,i.__assign)({className:j,onClick:function(){return g?window.Emoji.previewSticker(_.id):null}},{children:[(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiStickerPackExtended__header"},{children:[(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiStickerPackExtended__left"},{children:[!g&&(0,n.jsx)("img",{src:(h=_.icon,h?(0,l.getStickerIconUrl)(h,(0,d.isRetina)()?"square_2x.png":"square.png"):""),className:"VmojiStickerPackExtended__preview"},void 0),(0,n.jsxs)("div",(0,i.__assign)({className:"VmojiStickerPackExtended__content"},{children:[(0,n.jsx)("span",(0,i.__assign)({className:"VmojiStickerPackExtended__name"},{children:_.title}),void 0),(0,n.jsx)("span",(0,i.__assign)({className:"VmojiStickerPackExtended__description"},{children:_.description}),void 0)]}),void 0)]}),void 0),(0,n.jsx)("div",(0,i.__assign)({className:"VmojiStickerPackExtended__right"},{children:f&&_.is_purchased?(r=[{text:_.is_active?(0,c.getLang)("vmoji_layer_hide"):(0,c.getLang)("vmoji_layer_show_again"),negative:_.is_active,onClick:function(e){e.preventDefault(),e.stopPropagation(),k(_.id)}}],(0,n.jsx)(a.default,(0,i.__assign)({position:"b",align:"right",trigger:"hover",appearance:"fancy",data:r},{children:(0,n.jsx)("div",(0,i.__assign)({className:"VmojiStickerPackExtended__more","aria-hidden":!0},{children:(0,n.jsx)(v.default,{},void 0)}),void 0)}),void 0)):(0,n.jsx)(o.default,(0,i.__assign)({appearance:"secondary"},{children:(0,c.getLang)("vmoji_layer_show_sticker_pack")}),void 0)}),void 0)]}),void 0),g&&(0,n.jsx)("div",(0,i.__assign)({className:"VmojiStickerPackExtended__items"},{children:null===(t=_.stickers)||void 0===t?void 0:t.map((function(e){return(0,n.jsx)("img",{src:(0,l.getImageSize)((u.colorScheme.isDarkScheme()?e.images_with_background:e.images)||[],88),className:"VmojiStickerPackExtended__item"},e.sticker_id)}))}),void 0)]}),void 0)}},605382:(e,t,r)=>{"use strict";r.d(t,{getImageSize:()=>a,getStickerIconUrl:()=>s,argb2rgba:()=>c});var i=r(570655),n=r(695724),o=r(511417);function a(e,t,r){var a,s,c;e.sort((function(e,t){return e.width-t.width})),(0,n.isRetina)()&&(t*=2),void 0===r&&(r=o.colorScheme.isDarkScheme()?"dark":"light");try{for(var l=(0,i.__values)(e),d=l.next();!d.done;d=l.next()){var u=d.value;if(u.url){if(u.width>=t&&(!r||u.theme===r))return u.url;c=u}}}catch(e){a={error:e}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return c?c.url:""}function s(e,t){return(null==e?void 0:e.base_url)+"/"+t+(e.version?"?"+e.version:"")}function c(e){return void 0===e&&(e=""),e.replace(/#(..)(......)/,"#$2$1")}},944340:(e,t,r)=>{"use strict";r.d(t,{showVmojiAvatarBox:()=>u,showVmojiConstructor:()=>v});var i=r(570655),n=r(785893),o=r(486125),a=r(575867),s=r(295308),c=r(481117),l=r(159121),d=r(850167);function u(e,t,r){var d=e+"_"+t,v=(0,o.showBoxLoader)();Promise.all([(0,a.vmojiGetAvatar)(),(0,a.vmojiGetAvatar)(d)]).then((function(d){var h=(0,i.__read)(d,2),m=h[0],p=h[1];if(!(0,o.isBoxLoadingCancelled)(v)){var _=p.avatar,g=p.characters,f=p.products,k=p.sticker_renders;if(!_)return(0,l.topError)("Avatar is undefined"),void(0,o.hideBoxLoader)();if(!(null==g?void 0:g.length))return(0,l.topError)("Character is undefined"),void(0,o.hideBoxLoader)();var j=m.avatar,x=e===window.vk.id,y=void 0!==j&&(null==j?void 0:j.id)===_.id,w={};x||(w.ref_user_id=e);var P={character_id:_.character_id};y||(void 0!==r?P.pack_ids=String(r):P.filter="default"),Promise.all([(0,a.vmojiGetStickerPacksRecommendationBlocks)(w),(0,a.vmojiGetStickerPacks)(P),(0,a.vmojiGetLangs)(a.VmojiLangSection.LAYER)]).then((function(a){var l=(0,i.__read)(a,2),d=l[0],h=l[1];(0,o.isBoxLoadingCancelled)(v)||((0,o.hideBoxLoader)(),(0,c.showComponentInBox)((0,n.jsx)(s.VmojiAvatarModal,{close:function(){var e;return null===(e=(0,o.curBox)())||void 0===e?void 0:e.hide()},isOwn:x,canEdit:y,userId:window.vk.id,hasOwnAvatar:void 0!==j,packId:r,avatar:_,characters:g||[],products:f||[],stickerRenders:k||[],recommendations:(0,i.__assign)({},d),stickerPacks:(0,i.__assign)({},h),restore:function(){u(e,t,r)}},void 0),{width:630}))})).catch((function(e){(0,l.topError)(e)}))}})).catch((function(e){(0,l.topError)(e)}))}function v(e,t,r){var n={layer:!0,onHide:function(){null==r||r()}};t=(0,i.__assign)((0,i.__assign)({},t),{disableshare:""}),n.urlHash=new URLSearchParams(Object.entries(t)).toString().replace(/=(?=&|$)/gm,""),(0,d.showApp)(e,7929683,!1,null,null,n)}},70580:(e,t,r)=>{"use strict";r.d(t,{subscribeToQueue:()=>n});var i=r(997109),n=function(e,t,r){if(window.Notifier){var n=setInterval((function(){window.Notifier.addKey({key:e,ts:t},(function(e,t){!function(e,t){e&&e.events&&e.events.length&&e.events.forEach((function(e){var r=e.entity_type,i=e.data;"vmoji"===r&&i&&"stickers"===i.type&&t(i.sticker_renders||[])}))}(t,r)}))}),1e4);(0,i.pushNavDestroy)((function(){return clearInterval(n)}))}}}}]);try{stManager.done("dist/f79ca980fcc26ca55859ad5158f5fea8.a11cd2050a7652b011b8.js")}catch(e){}