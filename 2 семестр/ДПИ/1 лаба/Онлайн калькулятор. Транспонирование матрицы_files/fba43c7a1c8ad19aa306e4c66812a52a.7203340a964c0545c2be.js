(self.webpackChunkvk=self.webpackChunkvk||[]).push([[882],{180271:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(791750).makeIcon)("Icon24VmojiOutline","vmoji_outline_24","0 0 24 24",'<symbol fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="vmoji_outline_24"><g fill="currentColor"><path d="M14.456 10.303c.872-.445 1.878-.445 2.764.308a.766.766 0 0 1 .063 1.125.88.88 0 0 1-1.192.06l-.085-.066c-.252-.176-.477-.163-.748-.025a.973.973 0 0 0-.149.09l-.083.063a.881.881 0 0 1-1.11-.122.766.766 0 0 1 .063-1.125c.105-.09.265-.2.477-.308zM8.5 9.549a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM13.45 14c.552 0 1.006.452.906.995a1.832 1.832 0 0 1-.093.347 2.441 2.441 0 0 1-1.325 1.322 2.458 2.458 0 0 1-.938.188 2.457 2.457 0 0 1-2.264-1.51 1.838 1.838 0 0 1-.092-.347c-.1-.544.354-.995.906-.995zM9.098 3.8a.9.9 0 0 0 0-1.8zM2 9.099a.9.9 0 0 0 1.8 0z" /><path clip-rule="evenodd" d="M2 9.107C2 5.19 5.176 2 9.098 2v1.8A5.306 5.306 0 0 0 3.8 9.107z" fill-rule="evenodd" /><path d="M9.098 20.2a.9.9 0 1 1 0 1.8zM2 14.901a.9.9 0 0 1 1.8 0z" /><path clip-rule="evenodd" d="M2 14.893C2 18.81 5.176 22 9.098 22v-1.8A5.306 5.306 0 0 1 3.8 14.893z" fill-rule="evenodd" /><path d="M14.902 3.8a.9.9 0 1 1 0-1.8zM22 9.099a.9.9 0 1 1-1.8 0z" /><path clip-rule="evenodd" d="M22 9.107C22 5.19 18.824 2 14.902 2v1.8A5.306 5.306 0 0 1 20.2 9.107z" fill-rule="evenodd" /><path d="M14.902 20.2a.9.9 0 1 0 0 1.8zM22 14.901a.9.9 0 0 0-1.8 0z" /><path clip-rule="evenodd" d="M22 14.893C22 18.81 18.824 22 14.902 22v-1.8a5.306 5.306 0 0 0 5.298-5.307z" fill-rule="evenodd" /></g></symbol>',24,24)},641308:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon12CheckCircleFill","check_circle_fill_12","0 0 12 12",'<symbol fill="none" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg" id="check_circle_fill_12"><path d="M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12z" fill="#99a2ad" /><path clip-rule="evenodd" d="M8.78 3.97a.75.75 0 0 1 0 1.06L5.53 8.28a.75.75 0 0 1-1.06 0L3.22 7.03a.75.75 0 0 1 1.06-1.06l.72.72 2.72-2.72a.75.75 0 0 1 1.06 0z" fill="#fff" fill-rule="evenodd" /></symbol>',12,12,!1,void 0)},975803:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon16ChevronOutline","chevron_outline_16","0 0 12 16",'<symbol fill="none" viewBox="0 0 12 16" xmlns="http://www.w3.org/2000/svg" id="chevron_outline_16"><path clip-rule="evenodd" d="M4.22 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L7.69 8 4.22 4.53a.75.75 0 0 1 0-1.06z" fill="currentColor" fill-rule="evenodd" /></symbol>',12,16,!1,void 0)},31221:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon20BrushOutline","brush_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="brush_outline_20"><path fill-rule="evenodd" d="M6.667 12.493c-1.006 0-1.77.77-1.814 1.726-.064 1.352-.707 2.16-1.285 2.65.528.155 1.268.213 2.226-.072 1.903-.567 2.687-1.724 2.687-2.613 0-.897-.775-1.69-1.814-1.69ZM3.36 14.148a3.295 3.295 0 0 1 3.308-3.156c1.791 0 3.31 1.392 3.31 3.192 0 1.806-1.499 3.38-3.758 4.052-2.157.642-3.64-.025-4.348-.548a.921.921 0 0 1-.293-.353.839.839 0 0 1-.036-.614c.15-.46.637-.658.987-.938.382-.305.789-.761.83-1.635ZM15.702 2.001a1.608 1.608 0 0 1 2.261-.07 1.69 1.69 0 0 1 .17 2.287l-6.08 7.498a.746.746 0 0 1-1.052.108.753.753 0 0 1-.108-1.056l6.074-7.491a.185.185 0 0 0-.017-.242c-.067-.061-.133-.026-.202.04L9.745 9.783a.746.746 0 0 1-1.057-.025.753.753 0 0 1 .025-1.061L15.702 2Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},961943:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon20GearOutline","gear_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="gear_outline_20"><path fill-rule="evenodd" d="m7.222 3.378.01-.033a4.147 4.147 0 0 1 .17-.476c.358-.821.944-1.285 1.854-1.36l.166-.009h1.208c1.051.033 1.735.608 2.095 1.692l.057.186.044.166c.016.064.037.132.06.203l.05.137.03.015.06-.02.116-.044.135-.059a5.36 5.36 0 0 1 .168-.074l.036-.015a4.23 4.23 0 0 1 .424-.15c.932-.27 1.685-.075 2.32.618l.108.125.714.88c.636.833.617 1.723-.004 2.683l-.109.161-.102.139c-.04.054-.082.113-.123.177l-.062.1-.029.05.004.017.08.052.11.066.133.072c1.209.614 1.707 1.42 1.515 2.541l-.032.162-.213.916c-.137.593-.245.873-.67 1.258a2.135 2.135 0 0 1-1.059.518l-.01.003a3.917 3.917 0 0 1-.438.059l-.191.012-.173.006-.052.001h-.006c-.05.002-.102.006-.156.01l-.158.02.012.123.011.083.029.154c.068.322.101.618.098.89v.012c-.015.84-.38 1.45-1.132 1.87l-.147.076-1.023.494c-.901.403-1.722.234-2.484-.467a3.934 3.934 0 0 1-.144-.14l-.133-.142-.113-.13a2.938 2.938 0 0 0-.147-.161l-.085-.083-.043-.04-.08.076-.091.093-.103.115c-.828.981-1.703 1.334-2.763.923l-.153-.063-.915-.443-.271-.138c-.415-.225-.647-.44-.874-.918a2.153 2.153 0 0 1-.209-1.01v-.016c.006-.19.03-.388.07-.603l.038-.195.001-.004c.014-.064.025-.133.035-.206l.016-.148-.003-.003-.09-.012-.128-.012-.151-.006a4.145 4.145 0 0 1-.862-.098l-.012-.003c-.837-.198-1.363-.69-1.608-1.524l-.043-.16-.254-1.102c-.204-1.026.205-1.818 1.186-2.41l.17-.098.152-.08c.06-.03.123-.065.188-.105l.134-.087.004-.017-.055-.093-.07-.108-.089-.124a5.194 5.194 0 0 1-.286-.423c-.54-.905-.534-1.72.046-2.523l.1-.132.717-.877c.687-.792 1.566-.958 2.64-.554l.18.072.158.07a2.9 2.9 0 0 0 .193.08l.118.042.032-.014.029-.077.04-.12.04-.143c.013-.056.028-.112.044-.166Zm4.24.841.013.038.05.138a1.5 1.5 0 0 0 .743.833l.03.014a1.5 1.5 0 0 0 1.136.082l.06-.02a1.47 1.47 0 0 0 .065-.023l.117-.044.062-.025.135-.059.035-.015a2.698 2.698 0 0 1 .415-.16c.268-.078.407-.06.47-.043.057.015.16.056.314.22l.077.09.682.84c.138.185.15.295.15.359 0 .084-.03.267-.225.573l-.082.122-.08.108a4.406 4.406 0 0 0-.18.26l-.014.022-.062.099-.008.013-.01.018-.03.05a1.5 1.5 0 0 0-.178 1.056l.004.017a1.5 1.5 0 0 0 .648.959l.08.052.05.032.11.066.06.034.133.072.034.018c.456.231.62.421.676.516.036.06.084.162.042.417l-.023.117-.207.892c-.066.285-.095.35-.105.369 0 0 0 .003-.01.013a.974.974 0 0 1-.101.103c-.082.074-.166.124-.354.161a2.357 2.357 0 0 1-.257.035l-.153.01-.138.004-.071.002a4.554 4.554 0 0 0-.28.02l-.158.019a1.5 1.5 0 0 0-1.318 1.628l.011.123.008.07.012.083.01.06.028.154.008.045c.05.236.068.419.066.557-.003.206-.046.301-.073.348-.028.046-.094.131-.276.235l-.105.056-.977.471c-.204.088-.317.082-.382.07-.076-.015-.228-.068-.456-.279a2.382 2.382 0 0 1-.08-.076l-.1-.107-.088-.102a4.389 4.389 0 0 0-.217-.236l-.018-.018-.084-.082a1.433 1.433 0 0 0-.036-.034l-.043-.04a1.5 1.5 0 0 0-2.047.014l-.08.075a1.43 1.43 0 0 0-.042.041l-.09.094a1.534 1.534 0 0 0-.048.05l-.103.116-.025.03c-.315.371-.532.495-.646.535-.073.025-.183.05-.415-.038l-.094-.039-.864-.418-.238-.12a1.186 1.186 0 0 1-.13-.083l-.004-.003-.003-.003a1.077 1.077 0 0 1-.083-.147.666.666 0 0 1-.063-.34c.003-.09.015-.207.043-.365l.035-.174a4.384 4.384 0 0 0 .058-.35l.016-.149a1.5 1.5 0 0 0-.434-1.224l-.004-.003a1.5 1.5 0 0 0-.86-.423l-.09-.012a1.405 1.405 0 0 0-.064-.008l-.128-.01a1.539 1.539 0 0 0-.068-.005l-.15-.007-.04-.001a2.663 2.663 0 0 1-.549-.06c-.215-.05-.305-.115-.346-.154-.04-.038-.109-.12-.17-.319l-.03-.114-.242-1.052c-.042-.224-.006-.329.023-.387.038-.076.146-.23.459-.42l.128-.074.119-.063a4.431 4.431 0 0 0 .316-.179l.134-.087a1.5 1.5 0 0 0 .65-.947l.004-.017a1.5 1.5 0 0 0-.171-1.066l-.055-.093a1.49 1.49 0 0 0-.037-.062l-.07-.108a1.496 1.496 0 0 0-.04-.057l-.088-.124a1.516 1.516 0 0 0-.024-.031c-.307-.406-.369-.647-.378-.754-.006-.067-.004-.18.148-.395l.072-.094.684-.838c.154-.173.262-.211.33-.225.09-.018.28-.027.623.1l.138.055.123.055a4.42 4.42 0 0 0 .316.13l.118.042a1.5 1.5 0 0 0 1.134-.058l.031-.015a1.5 1.5 0 0 0 .764-.823l.03-.077.023-.066.04-.12.02-.065.04-.143.01-.037.03-.119c.037-.128.076-.235.114-.323.1-.23.192-.319.243-.357.044-.033.134-.086.343-.105l.1-.006h1.14c.234.01.333.071.386.114.067.056.192.195.308.538l.043.14.034.129c.026.1.056.2.088.298ZM10 11.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0 1.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},986536:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon20GiftOutline","gift_outline_20","0 0 20 20",'<symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="gift_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" /><path d="M14.846 2.314c1.026 1.026 1.23 2.875-.257 4.186h.911a3 3 0 0 1 3 3v.49c0 .827-.093 1.16-.267 1.487-.174.326-.43.582-.756.756a1.88 1.88 0 0 1-.477.182v1.618c0 1.56-.162 2.126-.467 2.696a3.18 3.18 0 0 1-1.324 1.324l-.202.101c-.48.224-1.037.349-2.229.364l-5.291.002c-1.56 0-2.126-.162-2.696-.467a3.18 3.18 0 0 1-1.324-1.324l-.101-.202c-.224-.48-.349-1.037-.364-2.229L3 12.415a1.88 1.88 0 0 1-.477-.182 1.817 1.817 0 0 1-.756-.756c-.16-.299-.251-.605-.265-1.29L1.5 9.5a3 3 0 0 1 3-3h.911c-1.487-1.31-1.283-3.16-.257-4.186C6.369 1.099 8.738 1.038 10 3.569c1.262-2.531 3.631-2.47 4.846-1.255ZM9.25 12.499 4.5 12.5l.001 1.762.009.399c.021.604.083.924.202 1.2l.078.161c.165.309.399.543.708.708l.162.078c.33.143.724.203 1.598.211l1.991-.001v-4.519Zm6.251.001-4.751-.001v4.519l1.993.001.399-.009c.604-.021.924-.083 1.2-.202l.161-.078a1.68 1.68 0 0 0 .708-.708c.186-.348.267-.688.286-1.551l.004-.438V12.5ZM9.159 7.999 4.5 8A1.5 1.5 0 0 0 3 9.5v.638l.007.232c.012.227.037.315.083.4a.319.319 0 0 0 .14.14c.11.059.223.085.632.09l5.387-.001.002-3L9.16 8l-.001-.001ZM15.5 8l-4.661-.001h-.09v3h5.39c.408-.004.521-.03.63-.089a.319.319 0 0 0 .141-.14c.065-.122.09-.248.09-.78V9.5A1.5 1.5 0 0 0 15.5 8ZM9.223 6.159c-.43-3.101-1.96-3.834-3.009-2.785C5.165 4.424 5.898 5.952 9 6.384l.257.032Zm1.554 0-.024.191.007.062.241-.029c3.101-.43 3.834-1.96 2.785-3.009-1.05-1.049-2.578-.316-3.01 2.785Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',20,20,!1,void 0)},823347:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon24FavoriteOutline","favorite_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="favorite_outline_24"><path fill-rule="evenodd" d="M12.554 4.694a.6.6 0 0 0-1.108 0l-1.614 3.9a.9.9 0 0 1-.774.554l-4.125.266a.6.6 0 0 0-.357 1.05l3.267 2.859a.9.9 0 0 1 .282.888l-.93 3.852a.6.6 0 0 0 .883.66l3.472-2.003a.9.9 0 0 1 .9 0l3.472 2.004a.6.6 0 0 0 .883-.661l-.93-3.852a.9.9 0 0 1 .282-.888l3.267-2.858a.6.6 0 0 0-.357-1.05l-4.125-.267a.9.9 0 0 1-.774-.554l-1.614-3.9Zm-2.772-.689c.818-1.976 3.618-1.976 4.436 0l1.4 3.383 3.565.23c2.136.138 3.037 2.792 1.426 4.201l-2.856 2.5.802 3.322c.494 2.05-1.706 3.696-3.533 2.642L12 18.539l-3.022 1.744C7.15 21.337 4.95 19.69 5.445 17.64l.802-3.322-2.856-2.5c-1.611-1.41-.71-4.063 1.426-4.201l3.566-.23 1.4-3.383Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},94566:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon24RecentOutline","recent_outline_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="recent_outline_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M12 21.428A9.428 9.428 0 0 1 2.571 12 9.428 9.428 0 0 1 12 2.57c5.206 0 9.429 4.221 9.429 9.429 0 5.207-4.223 9.428-9.429 9.428Zm0-1.8a7.63 7.63 0 1 0-.001-15.258A7.63 7.63 0 0 0 12 19.628Zm4.085-6.387a.9.9 0 1 1-.575 1.706l-4.226-1.427a.9.9 0 0 1-.613-.853V8.353a.9.9 0 1 1 1.8 0v3.668l3.614 1.22Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',24,24,!1,void 0)},147650:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon24SmileOutline","smile_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="smile_outline_24"><path d="M8.438 14.297a.9.9 0 0 1 1.259.133c.013.016.196.223.53.432.383.24.97.488 1.773.488a3.3 3.3 0 0 0 1.773-.488c.191-.12.382-.26.53-.432a.9.9 0 0 1 1.4 1.132 4.045 4.045 0 0 1-.976.826A5.094 5.094 0 0 1 12 17.15a5.094 5.094 0 0 1-2.727-.762 3.987 3.987 0 0 1-.976-.826.9.9 0 0 1 .14-1.265Zm1.812-4.047a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM15 11.5A1.25 1.25 0 1 0 15 9a1.25 1.25 0 0 0 0 2.5Zm-3-9.4c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9ZM3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},393657:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon24StickerSmileOutline","sticker_smile_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="sticker_smile_outline_24"><path d="M11.295 10.25a1.256 1.256 0 0 1-1.255 1.251c-.69 0-1.248-.56-1.245-1.25C8.798 9.56 9.36 9 10.05 9s1.248.56 1.245 1.25Zm4.244.251c.69 0 1.25-.56 1.254-1.25A1.244 1.244 0 0 0 15.549 8c-.69 0-1.251.56-1.254 1.25a1.244 1.244 0 0 0 1.244 1.251Z" /><path fill-rule="evenodd" d="m11.452 21.295-.005-.025-.399.056c-.845.12-1.406.198-1.906.167a4.886 4.886 0 0 1-4.296-3.245c-.167-.472-.244-1.033-.361-1.879l-.662-4.784c-.149-1.076-.268-1.939-.308-2.644-.04-.724-.003-1.361.208-1.972a4.916 4.916 0 0 1 1.828-2.42c.53-.37 1.132-.58 1.84-.74.689-.155 1.55-.276 2.627-.427l5.096-.717c.783-.11 1.302-.183 1.765-.16a4.885 4.885 0 0 1 4.394 3.317c.148.44.22.96.328 1.742l.02.142h.002l.247 1.655c.024.163.034.324.031.483.082.726.117 1.292.09 1.816a9.93 9.93 0 0 1-6.718 8.896c-.765.26-1.666.407-3.1.612l-.721.127Zm5.336-16.992c-.27-.013-.607.03-1.53.16l-4.954.696c-1.124.158-1.914.27-2.522.407-.599.135-.945.278-1.202.458a3.11 3.11 0 0 0-1.156 1.53c-.103.298-.146.67-.112 1.282.035.623.143 1.413.299 2.537l.64 4.635c.139.996.194 1.36.291 1.635a3.09 3.09 0 0 0 2.718 2.053c.292.018.656-.028 1.652-.168l.17-.024.82-.116 1.603-.283c.6-.106 1-.68.893-1.28l-.236-1.324c-1.403.152-3.005.008-4.27-.857a.9.9 0 0 1 1.017-1.487c.817.559 2.008.694 3.23.534a4.413 4.413 0 0 1 3.43-3.475l1.655-.345c.48-.1.824-.499.872-.965a99.95 99.95 0 0 0-.263-1.989c-.128-.922-.178-1.258-.265-1.515a3.09 3.09 0 0 0-2.78-2.1Zm-.576 13.853a8.128 8.128 0 0 0 3.885-5.677 2.903 2.903 0 0 1-.51.155l-1.655.345a2.606 2.606 0 0 0-2.034 3.008l.271 1.52c.04.218.053.436.043.649Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},569456:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=(0,r(379333).makeIcon)("Icon24StorefrontOutline","storefront_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="storefront_outline_24"><path fill-rule="evenodd" d="M7 14a.9.9 0 0 1 .9.9v4.2h8.2v-4.2a.9.9 0 0 1 1.8 0V20a.9.9 0 0 1-.9.9H7a.9.9 0 0 1-.9-.9v-5.1A.9.9 0 0 1 7 14Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M3 20a.9.9 0 0 1 .9-.9h16.2a.9.9 0 1 1 0 1.8H3.9A.9.9 0 0 1 3 20Zm13.9-10a1.1 1.1 0 0 0 2.2 0h1.8a2.9 2.9 0 0 1-5.8 0h1.8Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M16 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M12 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M4 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 0 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8.703 3.1h6.594c.553 0 1.019-.001 1.453.137a2.9 2.9 0 0 1 1.033.585c.342.301.581.7.865 1.175l.056.094 1.612 2.686.027.045c.143.239.264.44.352.66.077.195.133.397.167.604.038.234.038.47.038.747V10h-1.8v-.114c0-.358-.003-.438-.014-.51a1.1 1.1 0 0 0-.064-.228c-.027-.068-.066-.138-.25-.445L17.16 6.017c-.37-.618-.462-.752-.566-.843a1.1 1.1 0 0 0-.392-.222c-.131-.042-.294-.052-1.014-.052H8.812c-.72 0-.883.01-1.014.052a1.1 1.1 0 0 0-.392.222c-.104.091-.196.225-.566.843L5.228 8.703c-.185.307-.223.377-.25.445a1.1 1.1 0 0 0-.064.228c-.011.072-.014.152-.014.51V10H3.1v-.167c0-.278 0-.513.038-.747a2.9 2.9 0 0 1 .167-.603c.088-.22.209-.422.352-.66l.027-.046L5.296 5.09l.056-.094c.284-.474.523-.874.865-1.175a2.9 2.9 0 0 1 1.033-.585c.434-.138.9-.138 1.453-.137Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},988854:(e,t,r)=>{"use strict";r.d(t,{APIProvider:()=>o});r(682772),r(319601);var i=r(785893),n=r(667294),a=r(255352),s=r(940666);function o(e){var t=e.userId,r=e.onAPIRequest,o=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["userId","onAPIRequest"]),c=(0,n.useState)(new s.API({userId:t,onAPIRequest:r})),u=c[0],l=c[1];return(0,n.useEffect)((()=>{var e=new s.API({userId:t,onAPIRequest:r});return l(e),e.cache.reload(),()=>{e.cache.destroy()}}),[t,r]),(0,i.jsx)(a.APIContext.Provider,Object.assign({value:u},o),void 0)}},32472:(e,t,r)=>{"use strict";r.d(t,{Emoji:()=>o});r(682772),r(319601);var i=r(785893),n=r(659397),a=r(790469),s=r(876863);function o(e){var t=e.emoji,r=e.className,o=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["emoji","className"]);return(0,i.jsx)("i",Object.assign({className:(0,n.classNames)(s.default.emoji,`@${(0,a.unicodeToByteHex)(t)}`,r),"data-emoji":t},o),void 0)}},162170:(e,t,r)=>{"use strict";r.d(t,{EmojiItem:()=>o});r(682772),r(319601);var i=r(785893),n=r(659397),a=r(32472),s=r(774319);function o(e){var t=e.emoji,r=e.isActive,o=e.onEmojiClick,c=e.className,u=e.onClick,l=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["emoji","isActive","onEmojiClick","className","onClick"]);return(0,i.jsx)("div",Object.assign({className:(0,n.classNames)(c,s.default.item,{[s.default.itemActive]:r}),onClick:e=>{null==u||u(e),null==o||o(t)}},l,{children:(0,i.jsx)(a.Emoji,{emoji:t},void 0)}),void 0)}},669785:(e,t,r)=>{"use strict";r.d(t,{EmojiPicker:()=>f});r(226699),r(682772),r(821249),r(319601),r(426833),r(132023);var i=r(785893),n=r(659397),a=r(86894),s=r(667294),o=r(26915),c=r(48046),u=r(582299),l=r(514943),d=r(774319);var v;!function(e){e.ENTER="Enter",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight"}(v||(v={}));var m=Object.values(v);function f(e){var t=e.isVisible,r=e.className,f=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["isVisible","className"]),h=(0,c.useEmojiPicker)(),k=h.emojiCountPerRow,p=h.emojiSections,I=h.selectedEmoji,S=h.insertEmoji,_=h.setSelectedEmoji,E=(0,s.useRef)(null),b=(0,u.useIntersectionVirtualization)({container:E,throttleInterval:32,getIndex:e=>{var t=e.dataset.emojiPackIndex;return Number(t)}}),g=b.observe,j=b.activeElementIndex,T=(0,s.useMemo)((()=>p.map(((e,t)=>{var r=e[0],n=e[1];return(0,i.jsx)(o.EmojiPickerSection,{className:l.default.section,index:t,title:r,items:n,onEmojiClick:S,isHidden:j<t-4||j>t+1,onObserveIntersection:g},r)}))),[p,j,S,g]),C=(e,t)=>_({sectionIndex:e,emojiIndex:t});(0,s.useEffect)((()=>{if(t){var e=e=>{var t=e.key,r=I;if(m.includes(t))if((e=>{e.preventDefault(),e.stopPropagation()})(e),r)switch(t){case v.ENTER:var i;if(!I)return;var n=I.sectionIndex,a=I.emojiIndex,s=null==(i=p[n])?void 0:i[1][a];return void(s&&S(s));case v.ARROW_UP:if(!I)return;if(Number(r.emojiIndex)>=k)return void C(r.sectionIndex,r.emojiIndex-k);if(r.sectionIndex){var o,c=(null==(o=p[r.sectionIndex-1])?void 0:o[1].length)||0;if(c){var u=r.emojiIndex%k,l=c-1,d=l%k,f=l-l%k+Math.min(u,d);C(r.sectionIndex-1,f)}}return;case v.ARROW_DOWN:var h,E=(null==(h=p[r.sectionIndex])?void 0:h[1].length)||0;return r.emojiIndex-r.emojiIndex%k!=E-1-(E-1)%k?void C(r.sectionIndex,Math.min(r.emojiIndex+k,E-1)):void(r.sectionIndex!==p.length-1&&C(r.sectionIndex+1,r.emojiIndex%k));case v.ARROW_LEFT:if(r.emojiIndex)return void C(r.sectionIndex,r.emojiIndex-1);if(r.sectionIndex){var b,g=(null==(b=p[r.sectionIndex-1])?void 0:b[1].length)||0;g&&C(r.sectionIndex-1,g-1)}return;case v.ARROW_RIGHT:var j,T=(null==(j=p[r.sectionIndex])?void 0:j[1].length)||0;return r.emojiIndex!==T-1?void C(r.sectionIndex,r.emojiIndex+1):void(r.sectionIndex!==p.length-1&&C(r.sectionIndex+1,0))}else _({emojiIndex:0,sectionIndex:0})};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}}),[t,I,p]);var x=(null==I?void 0:I.emojiIndex)||0,O=(null==I?void 0:I.sectionIndex)||0,R=Math.floor(x/k);return(0,s.useLayoutEffect)((()=>{if(I&&!(j>=O-1&&j<=O+4)){var e=document.querySelector(`[data-emoji-pack-index="${O}"]`);null==e||e.scrollIntoView({block:"nearest"})}}),[x]),(0,s.useLayoutEffect)((()=>{var e,t;null==(e=E.current)||null==(t=e.querySelector(`.${d.default.itemActive}`))||t.scrollIntoView({block:"nearest"})}),[R,O]),(0,i.jsx)(a.CustomScrollView,Object.assign({boxRef:E,className:(0,n.classNames)(l.default.picker,r),autoHideScrollbar:!0},f,{children:T}),void 0)}},748007:(e,t,r)=>{"use strict";r.d(t,{EmojiPickerProvider:()=>v});r(57327),r(682772),r(821249),r(702707),r(319601),r(569720),r(535666);var i=r(785893),n=r(667294),a=r(122673),s=r(255352),o=r(777995),c=r(48046);function u(e,t,r,i,n,a,s){try{var o=e[a](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(i,n)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},l.apply(this,arguments)}var d={[o.StickerEmojiMenuVariant.WIDE]:15,[o.StickerEmojiMenuVariant.COMPACT]:11,[o.StickerEmojiMenuVariant.REGULAR]:11};function v(e){var t=e.onEmojiInsert,r=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["onEmojiInsert"]),v=(0,s.useAPI)(),m=(0,o.useStickerEmojiMenu)(),f=m.variant,h=m.isVisible,k=e=>e?e.sort(((e,t)=>{var r=e[1];return t[1]-r})).map((e=>e[0])):[],p=(0,n.useState)(),I=p[0],S=p[1],_=(0,n.useState)(Object.entries(l({stickers_picker_recently_used:k(v.cache.recentEmoji)},a.sections))),E=_[0],b=_[1],g=E.filter((e=>e[1].length)),j=(0,n.useState)([]),T=j[0],C=j[1],x=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.cache.recentEmoji){e.next=3;break}return e.abrupt("return");case 3:C(t),b((e=>(e[0][1]=k(t),e)));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function s(e){u(a,i,n,s,o,"next",e)}function o(e){u(a,i,n,s,o,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,n.useEffect)((()=>{h||(x(),S(void 0))}),[v,h]);var O=d[f];return(0,i.jsx)(c.EmojiPickerContext.Provider,Object.assign({value:{emojiCountPerRow:O,selectedEmoji:I,setSelectedEmoji:S,emojiSections:g,recentEmoji:T,setRecentEmoji:C,onEmojiInsert:t}},r),void 0)}},122673:(e,t,r)=>{"use strict";r.d(t,{sections:()=>i});var i={stickers_picker_emotions:["😀","😃","😄","😁","😅","😆","😂","🤣","😉","😊","☺","🙂","🙃","😇","😗","😙","😚","😘","😍","🥰","🤩","🤗","😋","😜","🤪","😛","😝","🤑","🤭","🤐","🤫","😶","🤔","🤨","🧐","😐","😑","🙄","😬","🤥","😏","😌","🤤","😴","🤓","😎","🥳","🤠","😒","😔","😪","😕","😟","🙁","☹","😮","😯","😲","😳","🥺","😦","😧","😨","😰","😥","😢","😭","😱","😖","😣","😞","😓","😩","😫","😷","🤒","🤕","🤢","🤮","🤧","🥶","🥵","🥴","😵","🤯","😤","😠","😡","🤬","😈","👿","💀","☠","💩","🤡","👹","👺","👻","👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🙈","🙉","🙊","🦠"],stickers_picker_gestures_and_people:["👍","👎","👌","✌","🤞","🤟","🤘","🤙","🖕","✊","👊","🤛","🤜","👈","👉","👆","👇","☝","👋","🤚","🖐","✋","🖖","👏","🙌","👐","🤲","🤝","🙏","💪","🦵","🦶","👂","👃","🧠","🦷","🦴","👀","👁","👅","👄","✍","💅","🤳","👫","👭","👬","👩‍❤️‍💋‍👨","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👩‍❤️‍👨","👨‍❤️‍👨","👩‍❤️‍👩","👪","👶","🧒","👦","👧","🧑","👱","👨","🧔","👱‍♂️","👨‍🦰","👨‍🦱","👨‍🦳","👨‍🦲","👩","👱‍♀️","👩‍🦰","👩‍🦱","👩‍🦳","👩‍🦲","🧓️","🙍‍♂️️","🙍‍♀️️","🙎‍♂️","🙎‍♀️️","🙅‍♂️","🙅‍♀️","🙆‍♂️","🙆‍♀️","💁‍♂️","💁‍♀️️","🙋‍♂️","🙋‍♀️️","🙇‍♂️","🙇‍♀️️","🤦‍♂️","🤦‍♀️","🤷‍♂️","🤷‍♀️","💆‍♂️️","💆‍♀️","💇‍♂️️","💇‍♀️","🚶‍♂️️","🚶‍♀️️","🏃‍♂️️","🏃‍♀️","💃","🕺","🕴️","👯‍♂️️","👯‍♀️","🧖‍♂️","🧖‍♀️️","👼","🎅","🤶","🦸‍♂️","🦸‍♀️","🦹‍♂️","🦹‍♀️","🧙‍♂️","🧙‍♀️","🧚‍♂️","🧚‍♀️","🧛‍♂️","🧛‍♀️","🧜‍♂️","🧜‍♀️","🧝‍♂️","🧝‍♀️","🧞‍♂️","🧞‍♀️","🧟‍♂️","🧟‍♀️","👨‍⚕️","👩‍⚕️","👨‍🎓","👩‍🎓","👨‍🏫","👩‍🏫","👨‍⚖️","👩‍⚖️","👨‍🌾","👩‍🌾","👨‍🍳","👩‍🍳","👨‍🔧","👩‍🔧","👨‍🏭","👩‍🏭","👨‍💼","👩‍💼","👨‍🔬","👩‍🔬","👨‍💻","👩‍💻","👨‍🎤","👩‍🎤","👨‍🎨","👩‍🎨","👨‍✈️","👩‍✈️","👨‍🚀","👩‍🚀","👨‍🚒","👩‍🚒","👮‍♂️","👮‍♀️","🕵️‍♂️","🕵️‍♀️","💂‍♂️","💂‍♀️","👷‍♂️","👷‍♀️","🤴","👸","👳‍♂️","👳‍♀️","👲","🧕","🤵","👰","🤰","🤱","🛀","🛌"],stickers_picker_symbols:["💋","❤","💔","❣","💘","💝","💖","💗","💓","💞","💕","💟","💜","🧡","💛","💚","💙","🖤","💯","💢","💥","💫","🕳","💣","💬","👁️‍🗨️","🗨","🗯","💭","💤","🗣","👤","👥","👣","🔇","🔊","📢","📣","🔔","🔕","🎼","🎵","🎶","⚠","🚸","☢","☣","🆚","🆓","🆕","🚮","🚾","🚭","✅","♻","⚕","🔱","‼","⁉","❓","❗","🆘","⛔","🚫","🚳","🚯","🚱","🚷","📵","🔞"],stickers_picker_animals_and_plants:["🐵","🐒","🦍","🐶","🐕","🐩","🐺","🦊","🦝","🐱","🐈","🦁","🐯","🐅","🐆","🐴","🐎","🦄","🦓","🦌","🐮","🐂","🐃","🐄","🐷","🐽","🐖","🐗","🐏","🐑","🐐","🐪","🐫","🦙","🦒","🐘","🦏","🦛","🐭","🐁","🐀","🐹","🐰","🐇","🐿","🦔","🦇","🐻","🐨","🐼","🦘","🦡","🐾","🦃","🐔","🐓","🐣","🐤","🐥","🐦","🐧","🕊","🦅","🦆","🦢","🦉","🦚","🦜","🐸","🐊","🐢","🦎","🐍","🐲","🐉","🦕","🦖","🐳","🐋","🐬","🐟","🐠","🐡","🦈","🐙","🦀","🦞","🦐","🦑","🐚","🐌","🦋","🐛","🐜","🐝","🐞","🦗","🕷","🕸","🦂","🦟","💐","🌸","💮","🏵","🌹","🥀","🌺","🌻","🌼","🌷","🌳","🌲","🎄","🌴","🌵","🌾","🌱","🌿","☘","🍀","🍁","🍂","🍃","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌡","☀","🌝","🌞","⭐","🌟","🌠","☁","⛅","⛈","🌤","🌥","🌦","🌧","🌨","🌩","🌪","🌫","🌬","💨","🌀","🌈","🌂","☂","☔","⛱","⚡","❄","☃","⛄","☄","🔥","💦","💧","🌊"],stickers_picker_food_and_drink:["🍏","🍎","🍐","🍅","🥝","🍑","🍒","🍓","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🥭","🥥","🥑","🍆","🥔","🥕","🌽","🌶","🥒","🥬","🥦","🍄","🥜","🌰","🍞","🥐","🥖","🥨","🥯","🥞","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🥙","🥚","🍳","🥘","🍲","🥣","🥗","🍿","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🥤","🥢","🍽","🍴","🥄"],stickers_picker_sport_and_activities:["⚽","⚾","🥎","🏀","🏐","🏈","🏉","🎾","🥏","🎳","🏏","🏑","🏒","🥍","🏓","🏸","🥊","🥋","🥅","⛳","⛸","🎣","🎽","🛹","🎿","🛷","🥌","🎯","🎱","🎮","🕹","🎰","🎲","🧩","♟","🧗‍♂️️","🧗‍♀️","🤺","🏇","⛷","🏂","🏌️‍♂️","🏌️‍♀️","🏄‍♂️","🏄‍♀️","🚣‍♂️","🚣‍♀️","🏊‍♂️","🏊‍♀️","⛹️‍♂️","⛹️‍♀️","🏋️‍♂️","🏋️‍♀️","🚴‍♂️","🚴‍♀️","🚵‍♂️","🚵‍♀️","🤸","🤼‍♂️","🤼‍♀️","🤽‍♂️","🤽‍♀️","🤾‍♂️","🤾‍♀️","🤹‍♂️","🤹‍♀️","🧘‍♂️","🧘‍♀️","🎖","🏆","🏅","🥇","🥈","🥉"],stickers_picker_travel_and_transport:["🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚝","🚞","🚋","🚌","🚍","🚎","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🏎","🏍","🛵","🚲","🛴","🚏","🛣","🛤","🛢","⛽","🚨","🚥","🚦","🛑","🚧","⚓","⛵","🛶","🚤","🛳","⛴","🛥","🚢","✈","🛩","🛫","🛬","💺","🚁","🚟","🚠","🚡","🛰","🚀","🛸","🌍","🌎","🌏","🌐","🗺","🗾","🧭","🏔","⛰","🌋","🗻","🏕","🏖","🏜","🏝","🏞","🏟","🏛","🏗","🧱","🏘","🏚","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏨","🏩","🏪","🏫","🏬","🏭","🏯","🏰","💒","🗼","🗽","⛪","🕌","🕍","⛩","🕋","⛲","⛺","🌁","🌃","🏙","🌄","🌅","🌆","🌇","🌉","♨","🌌","🎠","🎡","🎢","💈","🎪"],stickers_picker_subjects:["🎙","🎚","🎛","🎤","🎧","📻","🎷","🎸","🎹","🎺","🎻","🥁","📯","🎭","🖼","🎨","🧵","🧶","🔮","🧿","🧸","🃏","🀄","🎴","🎃","🎆","🎇","🧨","✨","🎈","🎉","🎊","🎋","🎍","🎎","🎏","🎐","🎑","🧧","🎀","🎁","🎗","🎟","🎫","🛎","🧳","⌛","⏳","⌚","⏰","⏱","⏲","🕰","👓","🕶","🥽","🥼","👔","👕","👖","🧣","🧤","🧥","🧦","👗","👘","👙","👚","👛","👜","👝","🛍","🎒","👞","👟","🥾","🥿","👠","👡","👢","👑","👒","🎩","🎓","🧢","⛑","📿","💄","💍","💎","📱","📲","☎","📞","📟","📠","🔋","🔌","💻","🖥","🖨","⌨","🖱","🖲","💽","💾","💿","📀","🧮","🎥","🎞","📽","🎬","📺","📷","📸","📹","📼","🔍","🔎","🕯","💡","🔦","🏮","📔","📕","📖","📗","📘","📙","📚","📓","📒","📃","📜","📄","📰","🗞","📑","🔖","🏷","💰","💴","💵","💶","💷","💸","💳","🧾","💹","💱","💲","✉","💌","📧","📨","📩","📤","📥","📦","📫","📪","📬","📭","📮","🗳","✏","✒","🖋","🖊","🖌","🖍","📝","💼","📁","📂","🗂","📅","📆","🗒","🗓","📇","📈","📉","📊","📋","📌","📍","📎","🖇","📏","📐","✂","🗃","🗄","🗑","🔒","🔓","🔏","🔐","🔑","🗝","🔨","⛏","⚒","🛠","🗡","⚔","🔪","🔫","🏹","🛡","🔧","🔩","⚙","🗜","⚖","🔗","⛓","🧰","🧲","⚗","🧪","🧫","🧬","🔬","🔭","📡","💉","💊","🚪","🛏","🛋","🚽","🚿","🛁","🧴","🧷","🧹","🧺","🧻","🧼","🧽","🧯","🛒","🚬","⚰","⚱","🏺","🗿"],stickers_picker_flags:["🇷🇺","🇰🇿","🇧🇾","🇺🇦","🇲🇳","🇬🇪","🇦🇿","🇹🇯","🇧🇷","🇱🇹","🇱🇻","🇪🇪","🇦🇲","🏁","🚩","🎌","🏴","🏳","🏳️‍🌈","🏴‍☠️","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇨","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇺","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇬","🇺🇲","🇺🇳","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼"]}},26915:(e,t,r)=>{"use strict";r.d(t,{EmojiPickerSection:()=>h});r(682772),r(821249),r(319601);var i=r(785893),n=r(659397),a=r(667294),s=r(162170),o=r(129511),c=r(769048),u=r(48046),l=r(91576),d=r(777995),v=r(859938);var m={[d.StickerEmojiMenuVariant.WIDE]:9,[d.StickerEmojiMenuVariant.COMPACT]:8,[d.StickerEmojiMenuVariant.REGULAR]:12},f={[d.StickerEmojiMenuVariant.WIDE]:v.default.contentWide,[d.StickerEmojiMenuVariant.COMPACT]:v.default.contentCompact,[d.StickerEmojiMenuVariant.REGULAR]:v.default.contentRegular};function h(e){var t=e.index,r=e.title,h=e.isHidden,k=e.items,p=e.onEmojiClick,I=e.onObserveIntersection,S=e.className,_=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["index","title","isHidden","items","onEmojiClick","onObserveIntersection","className"]),E=(0,c.useLang)().translate,b=(0,d.useStickerEmojiMenu)().variant,g=(0,u.useEmojiPicker)(),j=g.selectedEmoji,T=g.emojiCountPerRow,C=(0,a.useRef)(null),x=null==j?void 0:j.emojiIndex,O=null==j?void 0:j.sectionIndex,R=m[b],w=Math.ceil(k.length/T)*(16+R),P=(0,a.useMemo)((()=>!h&&k.map(((e,r)=>(0,i.jsx)(s.EmojiItem,{className:v.default.item,emoji:e,isActive:O===t&&x===r,onEmojiClick:p},e)))),[t,k,O,x,h,p]);return(0,l.useOnIntersect)(C,I),(0,i.jsxs)("div",Object.assign({ref:C,"data-emoji-pack-index":t,className:(0,n.classNames)(v.default.section,S)},_,{children:[(0,i.jsx)(o.EmojiSectionHeader,{children:E(r)},void 0),(0,i.jsx)("div",Object.assign({className:(0,n.classNames)(v.default.content,f[b]),style:{"--sticker-picker-emoji-item-size":"16px","--sticker-picker-emoji-item-padding":`${R}px`,height:w}},{children:P}),void 0)]}),void 0)}},129511:(e,t,r)=>{"use strict";r.d(t,{EmojiSectionHeader:()=>u});r(682772),r(319601);var i=r(785893),n=r(86894),a=r(659397),s=r(777995),o=r(20903);var c={[s.StickerEmojiMenuVariant.WIDE]:o.default.headerWide,[s.StickerEmojiMenuVariant.COMPACT]:o.default.headerCompact,[s.StickerEmojiMenuVariant.REGULAR]:o.default.headerRegular};function u(e){var t=e.className,r=e.children,u=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["className","children"]),l=(0,s.useStickerEmojiMenu)().variant;return(0,i.jsx)("div",Object.assign({className:(0,a.classNames)(o.default.header,c[l],t)},u,{children:(0,i.jsx)(n.Subhead,Object.assign({className:o.default.title,weight:"3"},{children:r}),void 0)}),void 0)}},445382:(e,t,r)=>{"use strict";r.d(t,{HelpHintsProvider:()=>l});r(319601),r(241539),r(788674),r(535666);var i=r(785893),n=r(667294),a=r(255352),s=r(111878),o=r(992807);function c(e,t,r,i,n,a,s){try{var o=e[a](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(i,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function s(e){c(a,i,n,s,o,"next",e)}function o(e){c(a,i,n,s,o,"throw",e)}s(void 0)}))}}function l(e){var t=(0,a.useAPI)(),r=(0,n.useState)(void 0),c=r[0],l=r[1],d=function(){var e=u(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cache.getHelpHints();case 2:r=e.sent,l(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((()=>{d();var e=function(){var e=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s.CacheKey.HELP_HINTS){e.next=2;break}return e.abrupt("return");case 2:d();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t.cache.addEventListener("change",e),()=>{t.cache.removeEventListener("change",e)}}),[t]),(0,i.jsx)(o.HelpHintsContext.Provider,Object.assign({value:c},e),void 0)}},350712:(e,t,r)=>{"use strict";r.d(t,{LangProvider:()=>o});r(319601);var i=r(785893),n=r(667294),a=r(810276),s=r(769048);function o(e){var t=(0,n.useState)(a.Lang.pack),r=t[0],o=t[1];return(0,n.useEffect)((()=>a.Lang.subscribe((()=>{o(a.Lang.pack)}))),[]),(0,i.jsx)(s.LangContext.Provider,Object.assign({value:r},e),void 0)}},166546:(e,t,r)=>{"use strict";r.d(t,{PeerInfoProvider:()=>a});r(682772),r(319601);var i=r(785893),n=r(757533);function a(e){var t=e.peerInfo,r=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["peerInfo"]);return(0,i.jsx)(n.PeerInfoContext.Provider,Object.assign({value:{peerInfo:t}},r),void 0)}},914260:(e,t,r)=>{"use strict";r.d(t,{Skeleton:()=>s});var i=r(785893),n=r(659397),a=r(661083);function s(e){var t=e.width,r=e.height,s=e.borderRadius,o=e.className;return(0,i.jsx)("div",{className:(0,n.classNames)(a.default.skeleton,o),style:{width:t,height:r,borderRadius:s}},void 0)}},409728:(e,t,r)=>{"use strict";r.d(t,{StickerEmojiMenu:()=>T});r(682772),r(319601);var i=r(785893),n=r(659397),a=r(667294),s=r(426726),o=r(898554),c=r(743239),u=r(669785),l=r(988854),d=r(350712),v=r(296543),m=r(553970),f=r(166546),h=r(748007),k=r(930519),p=r(484945),I=r(445382),S=r(331430),_=r(777995),E=r(582299),b=r(340946);function g(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}var j={[_.StickerEmojiMenuVariant.WIDE]:b.default.menuWide,[_.StickerEmojiMenuVariant.COMPACT]:b.default.menuCompact,[_.StickerEmojiMenuVariant.REGULAR]:b.default.menuRegular};function T(e){var t=e.queue,r=e.userId,n=e.variant,a=e.isVisible,s=e.visibleTab,o=e.onAPIRequest,c=e.activeProductId,u=e.onTabChange,v=e.peerInfo,m=e.onStickerSend,S=e.onEmojiInsert,_=e.onVmojiEditClick,E=e.onVmojiCreateClick,b=e.onStockItemGiftClick,j=e.onStockItemSettingsClick,T=g(e,["queue","userId","variant","isVisible","visibleTab","onAPIRequest","activeProductId","onTabChange","peerInfo","onStickerSend","onEmojiInsert","onVmojiEditClick","onVmojiCreateClick","onStockItemGiftClick","onStockItemSettingsClick"]);return(0,i.jsx)(d.LangProvider,{children:(0,i.jsx)(f.PeerInfoProvider,Object.assign({peerInfo:v},{children:(0,i.jsx)(l.APIProvider,Object.assign({userId:r,onAPIRequest:o},{children:(0,i.jsx)(I.HelpHintsProvider,{children:(0,i.jsx)(p.StickerEmojiMenuProvider,Object.assign({variant:n,isVisible:a,visibleTab:s,onTabChange:u},{children:(0,i.jsx)(k.StickerPickerProvider,Object.assign({queue:t,activeProductId:c,onStickerSend:m,onVmojiEditClick:_,onVmojiCreateClick:E,onStockItemGiftClick:b,onStockItemSettingsClick:j},{children:(0,i.jsx)(h.EmojiPickerProvider,Object.assign({onEmojiInsert:S},{children:(0,i.jsx)(C,Object.assign({},T),void 0)}),void 0)}),void 0)}),void 0)},void 0)}),void 0)}),void 0)},void 0)}function C(e){var t=e.onShopClick,r=e.className,l=g(e,["onShopClick","className"]),d=(0,S.useStickerPicker)().storeNewItemsCount,f=(0,_.useStickerEmojiMenu)(),h=f.variant,k=f.isVisible,p=f.visibleTab,I=f.activeTab,T=f.setActiveTab,C=f.onTabChange,x=(0,a.useRef)(null),O=(0,E.useIntersectionVirtualization)({container:x,throttleInterval:32,getIndex:e=>{var t=e.dataset.stickerPackIndex;return Number(t)}}),R=O.observe,w=O.activeElementIndex;(0,a.useEffect)((()=>{s.LottieManager.init()}),[]),(0,a.useEffect)((()=>{p&&T(p)}),[p,T]);var P=I===o.Tab.STICKERS;return(0,i.jsx)("div",Object.assign({className:(0,n.classNames)(r,b.default.menu,j[h])},l,{children:(0,i.jsxs)("div",Object.assign({className:b.default.in},{children:[(0,i.jsxs)("div",Object.assign({className:(0,n.classNames)(b.default.content)},{children:[(!p||p===o.Tab.EMOJI)&&(0,i.jsx)(u.EmojiPicker,{className:(0,n.classNames)(b.default.item,{[b.default.itemTransformed]:P&&!p}),isVisible:k&&I===o.Tab.EMOJI},void 0),(!p||p===o.Tab.STICKERS)&&(0,i.jsx)(v.StickerPicker,{className:(0,n.classNames)(b.default.item,{[b.default.itemTransformed]:P&&!p}),stickerPickerRef:x,onObserveIntersection:R,activeStickerPackIndex:w},void 0)]}),void 0),!p&&(0,i.jsx)(c.Tabbar,{activeTab:I,shopIndicatorMode:d?m.TabbarItemIndicator.DESTRUCTIVE:void 0,onShopClick:t,onTabChange:e=>{T(e),null==C||C({tab:e})}},void 0)]}),void 0)}),void 0)}},484945:(e,t,r)=>{"use strict";r.d(t,{StickerEmojiMenuProvider:()=>c});r(682772),r(319601);var i=r(785893),n=r(667294),a=r(898554),s=r(255352),o=r(777995);function c(e){var t=e.variant,r=e.isVisible,c=e.visibleTab,u=e.onTabChange,l=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["variant","isVisible","visibleTab","onTabChange"]),d=(0,s.useAPI)(),v=d.cache.tabbarActiveTab,m=(0,n.useState)(v||a.Tab.EMOJI),f=m[0],h=m[1];return(0,n.useEffect)((()=>{v!==f&&d.cache.setTabbarActiveTab(f)}),[f,v]),(0,i.jsx)(o.StickerEmojiMenuContext.Provider,Object.assign({value:{variant:t,isVisible:r,visibleTab:c,activeTab:f,setActiveTab:h,onTabChange:u}},l),void 0)}},296543:(e,t,r)=>{"use strict";r.d(t,{StickerPicker:()=>h});r(682772),r(66992),r(821249),r(319601),r(241539),r(333948);var i=r(785893),n=r(659397),a=r(86894),s=r(533262),o=r(667294),c=r(898554),u=r(180414),l=r(194180),d=r(741827),v=r(889309),m=r(331430),f=r(324014);function h(e){var t=e.stickerPickerRef,r=e.activeStickerPackIndex,h=e.onObserveIntersection,k=e.className,p=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["stickerPickerRef","activeStickerPackIndex","onObserveIntersection","className"]),I=(0,m.useStickerPicker)().stockItemsMap,S=(0,o.useRef)(new s.LazyLoadQueue),_=(0,o.useMemo)((()=>I&&[...I.values()].map((e=>{var t=e.id,n=e.index,a=r<n-2||r>n+2;return t===c.Tab.VMOJI?(0,i.jsx)(d.VmojiCreateSection,{stockItem:e,onObserveIntersection:h},t):(0,i.jsx)(v.StickerPickerSection,{className:f.default.section,queue:null==S?void 0:S.current,isHidden:a,stockItem:e,onObserveIntersection:h},t)}))),[I,r,h]);return I?(0,i.jsxs)("div",Object.assign({className:(0,n.classNames)(f.default.picker,k)},p,{children:[(0,i.jsx)(a.CustomScrollView,Object.assign({boxRef:t,className:f.default.sections,autoHideScrollbar:!0},{children:_}),void 0),(0,i.jsx)(l.StickerTabsList,{stickerPickerRef:t,activeStickerPackIndex:I&&r},void 0)]}),void 0):(0,i.jsx)(u.StickerPickerSkeleton,{className:k},void 0)}},180414:(e,t,r)=>{"use strict";r.d(t,{StickerPickerSkeleton:()=>c});r(682772),r(319601);var i=r(785893),n=r(659397),a=r(194180),s=r(889309),o=r(324014);function c(e){var t=e.className,r=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["className"]);return(0,i.jsxs)("div",Object.assign({className:(0,n.classNames)(o.default.picker,t)},r,{children:[(0,i.jsx)("div",Object.assign({className:o.default.sections},{children:(0,i.jsx)(s.StickerPickerSection,{},void 0)}),void 0),(0,i.jsx)(a.StickerTabsList,{},void 0)]}),void 0)}},930519:(e,t,r)=>{"use strict";r.d(t,{StickerPickerProvider:()=>k});r(682772),r(66992),r(651532),r(319601),r(241539),r(788674),r(454747),r(333948),r(535666);var i=r(785893),n=r(667294),a=r(898554),s=r(255352),o=r(757533),c=r(331430),u=r(777995);function l(e,t,r,i,n,a,s){try{var o=e[a](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(i,n)}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},d.apply(this,arguments)}var v={[u.StickerEmojiMenuVariant.WIDE]:86,[u.StickerEmojiMenuVariant.COMPACT]:80,[u.StickerEmojiMenuVariant.REGULAR]:92},m={[u.StickerEmojiMenuVariant.WIDE]:4,[u.StickerEmojiMenuVariant.COMPACT]:3,[u.StickerEmojiMenuVariant.REGULAR]:3},f={[u.StickerEmojiMenuVariant.WIDE]:8,[u.StickerEmojiMenuVariant.COMPACT]:6,[u.StickerEmojiMenuVariant.REGULAR]:8},h={[u.StickerEmojiMenuVariant.WIDE]:6,[u.StickerEmojiMenuVariant.COMPACT]:8,[u.StickerEmojiMenuVariant.REGULAR]:8};function k(e){var t=e.queue,r=e.activeProductId,k=e.onStickerSend,p=e.onVmojiEditClick,I=e.onVmojiCreateClick,S=e.onStockItemGiftClick,_=e.onStockItemSettingsClick,E=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["queue","activeProductId","onStickerSend","onVmojiEditClick","onVmojiCreateClick","onStockItemGiftClick","onStockItemSettingsClick"]),b=(0,s.useAPI)(),g=(0,o.usePeerInfo)().peerInfo,j=(0,u.useStickerEmojiMenu)(),T=j.variant,C=j.isVisible,x=(0,n.useState)(),O=x[0],R=x[1],w=(0,n.useState)(),P=w[0],A=w[1],N=(0,n.useState)(),M=N[0],y=N[1],V=(0,n.useState)(),H=V[0],L=V[1],G=(0,n.useState)(),B=G[0],K=G[1],D=(0,n.useState)(),F=D[0],z=D[1],W=(0,n.useState)(),U=W[0],q=W[1],Z=(0,n.useMemo)((()=>{var e=new Map,t=0;if(O&&M&&H)return H.length&&(e.set(a.Tab.FAVORITE,{id:a.Tab.FAVORITE,index:t,referrer:c.StickerSendReferrer.FAVORITE,product:{title:"stickers_picker_favorite",stickers:H}}),t++),M.length&&(e.set(a.Tab.RECENT,{id:a.Tab.RECENT,referrer:c.StickerSendReferrer.RECENT,index:t,product:{title:"stickers_picker_recently_used",stickers:M}}),t++),-1!==(null==O?void 0:O.findIndex((e=>void 0!==e.product.vmoji_avatar)))||P||(e.set(a.Tab.VMOJI,{id:a.Tab.VMOJI,index:t,referrer:c.StickerSendReferrer.KEYBOARD,product:{title:"stickers_picker_vmoji"}}),t++),O.forEach((r=>{var i=r.product.id;e.set(i,d({id:i,index:t,referrer:c.StickerSendReferrer.KEYBOARD},r)),t++})),e}),[O,M,H]),J=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,i,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b.cache.getStockItems({active:!0}),b.cache.getGlobalHashes(),b.cache.getRecentStickers(),b.cache.getFavoriteStickers(),b.cache.getStickersImageConfigs()]);case 2:t=e.sent,r=t[0],i=t[1],n=t[2],a=t[3],s=t[4],A(b.cache.hasVmojiCharacter),y(n),L(a),K(s),q(null==i?void 0:i.store_new_items),R(r);case 14:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function s(e){l(a,i,n,s,o,"next",e)}function o(e){l(a,i,n,s,o,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,n.useEffect)((()=>(C&&(O&&b.cache.reload(),J()),b.cache.addEventListener("change",J),()=>{b.cache.removeEventListener("change",J)})),[b,C]),(0,n.useEffect)((()=>{if(z(void 0),g){var e,t=g.id;e=t,b.store.getStickerPacksAvailableForGift({user_id:e}).then(z)}}),[g]);var Y=v[T],$=m[T],X=h[T],Q=f[T];return(0,i.jsx)(c.StickerPickerContext.Provider,Object.assign({value:{queue:t,activeProductId:r,stickersSize:Y,stickersCountPerRow:$,stickersVerticalGap:X,stickersHorizontalGap:Q,stockItems:O,stockItemsMap:Z,recentStickers:M,favoriteStickers:H,hasVmojiCharacter:P,storeNewItemsCount:U,stickerImageConfigs:B,productsAvailableToGift:F,onStickerSend:k,onVmojiEditClick:p,onVmojiCreateClick:I,onStockItemGiftClick:S,onStockItemSettingsClick:_}},E),void 0)}},889309:(e,t,r)=>{"use strict";r.d(t,{StickerPickerSection:()=>S});r(682772),r(821249),r(319601),r(535666);var i=r(785893),n=r(659397),a=r(86894),s=r(862787),o=r(667294),c=r(898554),u=r(466469),l=r(255352),d=r(769048),v=r(91576),m=r(777995),f=r(331430),h=r(997514);function k(e,t,r,i,n,a,s){try{var o=e[a](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(i,n)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function s(e){k(a,i,n,s,o,"next",e)}function o(e){k(a,i,n,s,o,"throw",e)}s(void 0)}))}}var I={[m.StickerEmojiMenuVariant.WIDE]:h.default.sectionWide,[m.StickerEmojiMenuVariant.COMPACT]:h.default.sectionCompact,[m.StickerEmojiMenuVariant.REGULAR]:h.default.sectionRegular};function S(e){var t,r,k,S=e.stockItem,_=e.isHidden,E=e.queue,b=e.onObserveIntersection,g=e.className,j=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["stockItem","isHidden","queue","onObserveIntersection","className"]),T=(0,l.useAPI)(),C=(0,a.useAppearance)(),x=(0,d.useLang)().translate,O=(0,m.useStickerEmojiMenu)().variant,R=(0,f.useStickerPicker)(),w=R.queue,P=R.stickersSize,A=R.stickersCountPerRow,N=R.stickersVerticalGap,M=R.stickersHorizontalGap,y=R.favoriteStickers,V=R.stickerImageConfigs,H=R.addToFavorite,L=R.removeFromFavorite,G=R.onStickerSend,B=(0,o.useRef)(null),K=(0,o.useCallback)(((e,t)=>p(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return G(e,t),r.next=3,T.cache.getRecentStickers();case 3:if(i=r.sent){r.next=6;break}return r.abrupt("return");case 6:if(!(-1!==i.findIndex((t=>t.sticker_id===e.sticker_id)))){r.next=9;break}return r.abrupt("return");case 9:i.unshift(e),T.cache.setRecentStickers(i);case 11:case"end":return r.stop()}}),r)})))),[G,S]),D=(e,t)=>()=>{t?L(e):H(e)},F=(0,o.useMemo)((()=>new Array(6*A).fill(void 0).map(((e,t)=>(0,i.jsx)(s.Sticker,{className:h.default.sticker,size:P},t)))),[P,A]),z=(0,o.useMemo)((()=>{var e,t=null==S||null==(e=S.product)?void 0:e.stickers,r=null==S?void 0:S.referrer;if(!_){if(!t||!V)return F;var n=V.items,a=V.default_id;return t.map((e=>{var t=e.sticker_id,o=e.is_allowed,c=Boolean(null==y?void 0:y.find((t=>t.sticker_id===e.sticker_id)));return(0,i.jsx)(s.Sticker,{className:h.default.sticker,name:String(t),size:P,loading:"lazy",sticker:e,theme:C,configs:n,queue:w||E,favorite:c,disabled:!o,defaultConfigId:a,onClick:K(e,r),onFavoriteClick:D(e,c)},t)}))}}),[w,_,S,C,P,E,y,K,V,D]);(0,v.useOnIntersect)(B,b);var W=null==S?void 0:S.id,U=null==S?void 0:S.index,q=null==S||null==(t=S.product)?void 0:t.title,Z=null==S||null==(r=S.product)||null==(k=r.stickers)?void 0:k.length,J=Math.ceil(Number(Z)/A),Y=Z?J*P+J*M:"100vh";return(0,i.jsxs)("div",Object.assign({ref:B,"data-sticker-pack-index":U,className:(0,n.classNames)(h.default.section,I[O],g),style:{"--stickers-vertical-gap":`${N}px`,"--stickers-horizontal-gap":`${M}px`}},j,{children:[(0,i.jsx)(u.StickerSectionHeader,Object.assign({stockItem:S},{children:W===c.Tab.FAVORITE||W===c.Tab.RECENT?x(q):q}),void 0),(0,i.jsx)("div",Object.assign({className:(0,n.classNames)(h.default.content,h.default.contentStickers),style:{height:Y}},{children:z}),void 0)]}),void 0)}},741827:(e,t,r)=>{"use strict";r.d(t,{VmojiCreateSection:()=>f});r(682772),r(319601);var i=r(785893),n=r(667294),a=r(659397),s=r(86894),o=r(466469),c=r(769048),u=r(91576),l=r(331430),d=r(992807),v=r(997514),m=r(121449);function f(e){var t=e.stockItem,r=e.onObserveIntersection,f=e.className,h=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["stockItem","onObserveIntersection","className"]),k=t.index,p=(0,s.useAppearance)(),I=(0,c.useLang)().translate,S=(0,d.useHelpHints)().getHintResource,_=(0,l.useStickerPicker)().onVmojiCreateClick,E=(0,n.useRef)(null),b=p===s.Appearance.LIGHT?d.KeyboardStickersVmojiResourceKey.VMOJI_ON_BOARDING_LIGHT:d.KeyboardStickersVmojiResourceKey.VMOJI_ON_BOARDING_DARK,g=S(d.HelpHintId.KEYBOARD_STICKERS_VMOJI,b);return(0,u.useOnIntersect)(E,r),(0,i.jsxs)("div",Object.assign({"data-sticker-pack-index":k,ref:E,className:(0,a.classNames)(v.default.section,f)},h,{children:[(0,i.jsx)(o.StickerSectionHeader,Object.assign({stockItem:t},{children:I("stickers_picker_vmoji")}),void 0),(0,i.jsx)("div",Object.assign({className:v.default.content},{children:(0,i.jsxs)("div",Object.assign({className:m.default.card},{children:[(0,i.jsx)("figure",{className:m.default.image,style:{backgroundImage:`url(${null==g?void 0:g.value})`}},void 0),(0,i.jsx)(s.Button,Object.assign({className:m.default.button,size:"s",mode:"outline",appearance:"accent",onClick:_},{children:I("stickers_picker_vmoji_create_character")}),void 0)]}),void 0)}),void 0)]}),void 0)}},180575:(e,t,r)=>{"use strict";r.d(t,{PeerInfo:()=>l});r(682772),r(319601);var i=r(785893),n=r(86894),a=r(619141),s=r(641308),o=r(769048),c=r(757533),u=r(249486);function l(e){var t=e.isStyle,r=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["isStyle"]),l=(0,o.useLang)().translate,d=(0,c.usePeerInfo)().peerInfo;if(!d)return null;var v=d.first_name_gen,m=d.photo_50;return(0,i.jsx)(a.TextTooltip,Object.assign({text:(0,i.jsx)(n.Caption,Object.assign({className:u.default.popper,level:"2"},{children:l(t?"stickers_picker_peer_has_style":"stickers_picker_peer_has_pack",{name:v})}),void 0),offsetDistance:8,offsetSkidding:50,placement:"bottom-end"},{children:(0,i.jsx)(n.Avatar,Object.assign({src:m,size:16,badge:(0,i.jsx)(s.default,{className:u.default.icon},void 0)},r),void 0)}),void 0)}},466469:(e,t,r)=>{"use strict";r.d(t,{StickerSectionHeader:()=>k});r(226699),r(682772),r(319601),r(132023);var i=r(785893),n=r(86894),a=r(659397),s=r(961943),o=r(31221),c=r(986536),u=r(180575),l=r(914260),d=r(757533),v=r(331430),m=r(777995),f=r(130172);var h={[m.StickerEmojiMenuVariant.WIDE]:f.default.headerWide,[m.StickerEmojiMenuVariant.COMPACT]:f.default.headerCompact,[m.StickerEmojiMenuVariant.REGULAR]:f.default.headerRegular};function k(e){var t=e.stockItem,r=e.className,k=e.children,p=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["stockItem","className","children"]),I=(0,d.usePeerInfo)().peerInfo,S=(0,m.useStickerEmojiMenu)().variant,_=(0,v.useStickerPicker)(),E=_.productsAvailableToGift,b=_.onVmojiEditClick,g=_.onStockItemGiftClick,j=_.onStockItemSettingsClick;if(r=(0,a.classNames)(f.default.header,h[S],r),!t)return(0,i.jsx)("div",Object.assign({className:r},p,{children:(0,i.jsx)(l.Skeleton,{width:128,height:20},void 0)}),void 0);var T=t.can_gift,C=t.product,x=C.id,O=C.base_id,R=C.style_ids,w=C.vmoji_avatar,P=void 0!==O,A=Boolean(w),N=Boolean((null==R?void 0:R.length)||P||A),M=Boolean(T&&I&&(null==E?void 0:E.includes(x))),y=Boolean(T);return(0,i.jsxs)("div",Object.assign({className:r},p,{children:[(0,i.jsx)(n.Subhead,Object.assign({className:f.default.title,weight:"3"},{children:k}),void 0),N&&(0,i.jsx)(s.default,{className:(0,a.classNames)(f.default.icon,f.default.settings),onClick:()=>j(t)},void 0),A&&(0,i.jsx)("div",Object.assign({className:(0,a.classNames)(f.default.brush,f.default.headerAside),onClick:()=>w&&b(w)},{children:(0,i.jsx)(o.default,{className:f.default.icon},void 0)}),void 0),y&&(0,i.jsxs)(i.Fragment,{children:[M&&(0,i.jsx)(u.PeerInfo,{className:f.default.headerAside,isStyle:P},void 0),Boolean(g)&&(0,i.jsx)(c.default,{className:(0,a.classNames)(f.default.icon,f.default.headerAside),onClick:()=>null==g?void 0:g(t,I)},void 0)]},void 0)]}),void 0)}},898554:(e,t,r)=>{"use strict";r.d(t,{Tab:()=>i,tabs:()=>m,StickerTabItem:()=>h});r(682772),r(66992),r(651532),r(319601),r(241539),r(426833),r(333948);var i,n=r(785893),a=r(659397),s=r(291705),o=r(667294),c=r(180271),u=r(94566),l=r(823347),d=r(91576),v=r(622226);!function(e){e.EMOJI="emoji",e.STICKERS="stickers",e.FAVORITE="favorite",e.VMOJI="vmoji",e.RECENT="recent"}(i||(i={}));var m=Object.values(i),f=new Map([[i.VMOJI,(0,n.jsx)(c.default,{},i.VMOJI)],[i.RECENT,(0,n.jsx)(u.default,{},i.RECENT)],[i.FAVORITE,(0,n.jsx)(l.default,{},i.FAVORITE)]]);function h(e){var t,r,i=e.index,c=e.tabItem,u=e.active,l=e.hidden,m=e.onObserveIntersection,h=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["index","tabItem","active","hidden","onObserveIntersection"]),k=(0,o.useRef)(null),p=(0,o.useState)(!0),I=p[0],S=p[1];(0,d.useOnIntersect)(k,m);var _=null==c||null==(t=c.product)?void 0:t.is_new,E=new s.BaseUrlBuilder({size:24,images:null==c||null==(r=c.product)?void 0:r.previews}).build(),b=f.get(null==c?void 0:c.id);return(0,o.useEffect)((()=>{b&&S(!1)}),[b]),(0,n.jsx)("div",Object.assign({ref:k,"data-tab-item-index":i},h,{children:(0,n.jsx)("div",Object.assign({className:(0,a.classNames)(v.default.in,{[v.default.inActive]:u,[v.default.inHidden]:l||I,[v.default.inPlaceholder]:!E&&!b,[v.default.inIndicator]:_})},{children:b?(0,n.jsx)("div",Object.assign({className:(0,a.classNames)(v.default.icon,v.default.iconService)},{children:b}),void 0):(0,n.jsx)("img",{alt:"",className:(0,a.classNames)(v.default.icon),loading:"lazy",src:E,onLoad:()=>{S(!1)}},void 0)}),void 0)}),void 0)}},194180:(e,t,r)=>{"use strict";r.d(t,{StickerTabsList:()=>p});r(682772),r(66992),r(821249),r(319601),r(241539),r(333948);var i=r(785893),n=r(659397),a=r(975803),s=r(667294),o=r(898554),c=r(255352),u=r(331430),l=r(606045),d=r(777995),v=r(480043),m=r(582299),f=r(850714);var h,k=new Array(9).fill(void 0).map(((e,t)=>(0,i.jsx)(o.StickerTabItem,{className:f.default.item},t)));function p(e){e.hidden;var t=e.stickerPickerRef,r=e.activeStickerPackIndex,p=e.className,I=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["hidden","stickerPickerRef","activeStickerPackIndex","className"]),S=(0,c.useAPI)(),_=(0,d.useStickerEmojiMenu)(),E=_.activeTab,b=_.setActiveTab,g=_.onTabChange,j=(0,u.useStickerPicker)(),T=j.activeProductId,C=j.stockItemsMap,x=j.markAsViewed,O=(0,s.useRef)(null),R=(0,s.useState)(!1),w=R[0],P=R[1],A=(0,s.useState)(!1),N=A[0],M=A[1],y=(0,s.useState)(!0),V=y[0],H=y[1],L=(0,s.useState)(!1),G=L[0],B=L[1],K=null==C?void 0:C.get(o.Tab.RECENT),D=null==C?void 0:C.get(o.Tab.FAVORITE),F=(0,m.useIntersectionVirtualization)({container:O,throttleInterval:32,getIndex:e=>{var t=e.dataset.tabItemIndex;return Number(t)}}),z=F.observe,W=F.activeElementIndex,U=(0,s.useCallback)((function(e,r){void 0===r&&(r=!0);var i=null==t?void 0:t.current;if(i){(0,l.scrollToPolyfill)(i);var n=document.querySelector(`[data-sticker-pack-index="${e}"]`),a=Number(null==n?void 0:n.offsetTop)+1||0,s=i.scrollTop;Math.abs(a-s)<=1e3?i.scrollTo({top:a,behavior:r?"smooth":"auto"}):(P(r),r&&i.scrollTo({top:a+200*(Number(s>a)||-1)}),requestAnimationFrame((()=>{i.scrollTo({top:a,behavior:r?"smooth":"auto"})})))}}),[t]),q=e=>()=>{b(o.Tab.STICKERS),U(e)},Z=(0,s.useMemo)((()=>C?[...C.values()].map(((e,t)=>{var n=e.id,a=e.index;return(0,i.jsx)(o.StickerTabItem,{className:f.default.item,index:a,tabItem:e,active:a===r,hidden:W<t-8||W>t+8,onClick:q(a),onObserveIntersection:z},n)})):k),[C,N,r,W,z,q]),J=e=>()=>{var t,r=O.current;if(r){(0,l.scrollToPolyfill)(r);var i,n=(null==(t=r.children.item(0))?void 0:t.clientWidth)||0,a=r.scrollLeft,s=r.scrollWidth,o=r.offsetWidth;switch(e){case h.LEFT:i=Math.max(0,a-o+2*n);break;case h.RIGHT:i=Math.min(s-o,a+o-2*n);break;default:i=0}requestAnimationFrame((()=>{r.scrollTo({left:i,behavior:"smooth"})}))}};return(0,v.useHorizontalScroll)(O),(0,s.useEffect)((()=>{T&&B(!1)}),[T]),(0,s.useLayoutEffect)((()=>{if(C&&Z&&!G){var e=T||S.cache.stickersActiveTab;if(e){var t=C.get(Number(e)||e);if(t){var r=t.index;U(r,!1)}requestAnimationFrame((()=>{T&&b(o.Tab.STICKERS)}))}B(!0)}}),[C,Z,T,G]),(0,s.useLayoutEffect)((()=>{var e=O.current;if(e){var r=e.scrollWidth,i=e.clientWidth;H(Boolean(r>i&&C));var n=()=>{var t=e.scrollLeft,r=e.scrollWidth-e.offsetWidth-t;M(t>0),H(r>0)};return t&&e.addEventListener("scroll",n),()=>{e.removeEventListener("scroll",n)}}}),[O,C,t]),(0,s.useLayoutEffect)((()=>{var e=O.current;if(C&&e&&void 0!==r){(0,l.scrollToPolyfill)(e);var t=e.querySelector(`[data-tab-item-index='${r}']`);if(t){var i=[...C.values()][r],n=i.id;x(n),E===o.Tab.STICKERS&&(null==g||g({tab:o.Tab.STICKERS,stockItem:i})),G&&S.cache.setStickersActiveTab(String(n));var a=t.offsetLeft-e.offsetWidth/2+t.clientWidth/2;a<0&&(a=0);var s=e.scrollLeft?e.scrollLeft-a:a;(w||a)&&requestAnimationFrame((()=>{e.scrollTo({left:a,behavior:s<e.offsetWidth&&w?"smooth":"auto"}),P(!0)}))}}}),[O,E,K,D,C,w,r]),(0,i.jsxs)("div",Object.assign({className:(0,n.classNames)(f.default.list,{[f.default.listPlaceholder]:!C},p)},I,{children:[(0,i.jsx)("div",{className:(0,n.classNames)(f.default.shadow,f.default.shadowLeft,{[f.default.shadowVisible]:N})},void 0),(0,i.jsx)("div",{className:(0,n.classNames)(f.default.shadow,f.default.shadowRight,{[f.default.shadowVisible]:V})},void 0),(0,i.jsx)("div",Object.assign({className:(0,n.classNames)(f.default.chevron,f.default.chevronLeft,{[f.default.chevronActive]:N}),onClick:J(h.LEFT)},{children:(0,i.jsx)(a.default,{},void 0)}),void 0),(0,i.jsx)("div",Object.assign({onClick:J(h.RIGHT),className:(0,n.classNames)(f.default.chevron,f.default.chevronRight,{[f.default.chevronActive]:V})},{children:(0,i.jsx)(a.default,{},void 0)}),void 0),(0,i.jsx)("div",Object.assign({ref:O,className:f.default.scroll},{children:Z}),void 0)]}),void 0)}!function(e){e.LEFT="left",e.RIGHT="right"}(h||(h={}))},743239:(e,t,r)=>{"use strict";r.d(t,{Tabbar:()=>v});r(682772),r(319601),r(241539);var i=r(785893),n=r(659397),a=r(147650),s=r(393657),o=r(569456),c=r(898554),u=r(553970),l=r(255352),d=r(963849);function v(e){var t=e.activeTab,r=e.shopIndicatorMode,v=e.onShopClick,m=e.onTabChange,f=e.className,h=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["activeTab","shopIndicatorMode","onShopClick","onTabChange","className"]),k=(0,l.useAPI)(),p=e=>()=>{null==m||m(e)};return(0,i.jsxs)("div",Object.assign({className:(0,n.classNames)(d.default.tabbar,f)},h,{children:[(0,i.jsx)(u.TabbarItem,Object.assign({className:d.default.item,active:t===c.Tab.EMOJI,onClick:p(c.Tab.EMOJI)},{children:(0,i.jsx)(a.default,{},void 0)}),void 0),(0,i.jsx)(u.TabbarItem,Object.assign({className:d.default.item,active:t===c.Tab.STICKERS,onClick:p(c.Tab.STICKERS)},{children:(0,i.jsx)(s.default,{},void 0)}),void 0),(0,i.jsx)(u.TabbarItem,Object.assign({className:d.default.item,indicator:r,onClick:e=>{k.store.markAsViewed({type:"stickers",reset:["store_new_items","global_promotion"].toString()}),null==v||v(e)}},{children:(0,i.jsx)(o.default,{},void 0)}),void 0)]}),void 0)}},553970:(e,t,r)=>{"use strict";r.d(t,{TabbarItemIndicator:()=>i,TabbarItem:()=>c});r(682772),r(319601);var i,n=r(785893),a=r(659397),s=r(81251);!function(e){e.NONE="none",e.PRIMARY="primary",e.SECONDARY="secondary",e.DESTRUCTIVE="destructive"}(i||(i={}));var o={[i.NONE]:s.default.indicatorNone,[i.PRIMARY]:s.default.indicatorPrimary,[i.SECONDARY]:s.default.indicatorSecondary,[i.DESTRUCTIVE]:s.default.indicatorDestructive};function c(e){var t=e.active,r=e.indicator,c=void 0===r?i.NONE:r,u=e.className,l=e.children,d=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["active","indicator","className","children"]);return(0,n.jsx)("div",Object.assign({className:(0,a.classNames)(u,s.default.item,s.default.indicator,o[c],{[s.default.itemActive]:t})},d,{children:l}),void 0)}},255352:(e,t,r)=>{"use strict";r.d(t,{APIContext:()=>a,useAPI:()=>s});r(241539),r(788674);var i=r(667294),n=r(940666),a=(0,i.createContext)(new n.API({userId:0,onAPIRequest:()=>Promise.reject()}));function s(){return(0,i.useContext)(a)}},48046:(e,t,r)=>{"use strict";r.d(t,{EmojiPickerContext:()=>s,useEmojiPicker:()=>o});r(66992),r(747042),r(651532),r(319601),r(241539),r(333948);var i=r(667294),n=r(255352);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},a.apply(this,arguments)}var s=(0,i.createContext)({emojiCountPerRow:0,recentEmoji:[],emojiSections:[],setRecentEmoji:()=>{},setSelectedEmoji:()=>{},onEmojiInsert:()=>{}});function o(){var e=(0,n.useAPI)(),t=(0,i.useContext)(s),r=t.emojiCountPerRow,o=t.setRecentEmoji,c=t.onEmojiInsert;return a({},t,{insertEmoji:t=>{c(t),(t=>{var i=new Map(e.cache.recentEmoji),n=i.get(t)||0;i.set(t,n+1);var a=[...i].reverse().slice(0,2*r);o(a),e.cache.setRecentEmoji(a)})(t)}})}},992807:(e,t,r)=>{"use strict";r.d(t,{HelpHintsContext:()=>o,HelpHintId:()=>a,KeyboardStickersVmojiResourceKey:()=>s,useHelpHints:()=>c});r(319601);var i=r(667294);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n.apply(this,arguments)}var a,s,o=(0,i.createContext)(void 0);function c(){var e=(0,i.useContext)(o),t=t=>null==e?void 0:e.items.find((e=>e.id===t));return n({},e,{getHint:t,getHintResource:(e,r)=>{var i,n=t(e);if(n)return null==n||null==(i=n.resources)?void 0:i.find((e=>e.key===r))}})}!function(e){e.KEYBOARD_STICKERS_VMOJI="keyboard:stickers_vmoji"}(a||(a={})),function(e){e.VMOJI_ON_BOARDING_LIGHT="vmoji_kb_onboarding_light",e.VMOJI_ON_BOARDING_DARK="vmoji_kb_onboarding_dark"}(s||(s={}))},480043:(e,t,r)=>{"use strict";r.d(t,{useHorizontalScroll:()=>n});var i=r(667294);function n(e){(0,i.useEffect)((()=>{var t=e.current;if(t){var r=e=>{e.deltaX||(t.scrollLeft+=e.deltaY)};return t.addEventListener("wheel",r,{passive:!0}),()=>{t.removeEventListener("wheel",r)}}}),[e])}},794326:(e,t,r)=>{"use strict";r.d(t,{useIntersectionObserver:()=>s});r(491038),r(66992),r(651532),r(241539),r(454747),r(333948);var i=r(667294),n=r(374308),a=r(972033);function s(e,t){var r=e.container,s=e.throttleInterval,o=e.debounceInterval,c=e.rootMargin,u=(0,i.useRef)(),l=(0,i.useRef)(new Map),d=(0,i.useRef)();d.current=t;var v=(0,i.useCallback)((()=>{var e=new Map,t=()=>{var t=Array.from(e.values());t.forEach((e=>{var t=l.current.get(e.target);t&&t(e)})),d.current&&d.current(t),e.clear()},i=s?(0,n.throttle)(t,s):o?(0,a.debounce)(t,o,!0):t;u.current=new IntersectionObserver((t=>{t.forEach((t=>{e.set(t.target,t)})),i()}),{root:r.current,rootMargin:c})}),[r,s,o,c]);return(0,i.useEffect)((()=>(v(),()=>{u.current&&(u.current.disconnect(),u.current=void 0),l.current.clear()})),[v]),{observe:(0,i.useCallback)(((e,t)=>{u.current||v();var r=u.current,i=l.current;return null==r||r.observe(e),t&&i.set(e,t),()=>{t&&i.delete(e),null==r||r.unobserve(e)}}),[u,v])}}},582299:(e,t,r)=>{"use strict";r.d(t,{useIntersectionVirtualization:()=>a});r(57327),r(702707),r(454747);var i=r(667294),n=r(794326);function a(e){var t=e.container,r=e.getIndex,a=e.defaultIndex,s=void 0===a?0:a,o=e.throttleInterval,c=(0,i.useRef)([]),u=(0,i.useState)(s),l=u[0],d=u[1];return{observe:(0,n.useIntersectionObserver)({container:t,throttleInterval:o,rootMargin:"-1px 0px 0px 0px"},(e=>{var i;if(c.current){var n=Number(null==(i=t.current)?void 0:i.clientHeight);e.forEach((e=>{var t=e.target,i=e.isIntersecting,n=e.intersectionRatio,a=r(t);void 0!==a&&(c.current[a]={target:t,index:a,isIntersecting:i,intersectionRatio:n})}));var a=c.current.filter((e=>e.isIntersecting)).sort(((e,t)=>e.index-t.index)),s=a[Math.floor(a.length/2)];if(a.length>=2){var o=a[0],u=a[1];s=a[Number(o.target.clientHeight>n&&u.target.clientHeight>n)||Number(u.target.clientHeight<n)]}void 0!==s&&d(s.index)}})).observe,activeElementIndex:l}}},769048:(e,t,r)=>{"use strict";r.d(t,{LangContext:()=>a,useLang:()=>s});r(66992),r(241539),r(115306),r(333948);var i=r(785893),n=r(667294),a=(0,n.createContext)(void 0);function s(){var e=(0,n.useContext)(a);return{translate:(t,r)=>{if(!t||!e)return(0,i.jsx)(i.Fragment,{children:" "},void 0);var n=e.keys;return t in n?n[t].replace(/{([^]+?)}/g,((e,t)=>{var i=null==r?void 0:r[t];return void 0===i?"":String(i)})):t}}}},91576:(e,t,r)=>{"use strict";r.d(t,{useOnIntersect:()=>n});var i=r(667294);function n(e,t,r){(0,i.useEffect)((()=>{var i=e.current;if(i&&t)return t(i,r)}),[e,t,r])}},757533:(e,t,r)=>{"use strict";r.d(t,{PeerInfoContext:()=>n,usePeerInfo:()=>a});var i=r(667294),n=(0,i.createContext)({});function a(){return(0,i.useContext)(n)}},777995:(e,t,r)=>{"use strict";r.d(t,{StickerEmojiMenuVariant:()=>i,StickerEmojiMenuContext:()=>s,useStickerEmojiMenu:()=>o});var i,n=r(667294),a=r(898554);!function(e){e.COMPACT="compact",e.REGULAR="3_in_row",e.WIDE="4_in_row"}(i||(i={}));var s=(0,n.createContext)({variant:i.REGULAR,activeTab:a.Tab.EMOJI,setActiveTab:()=>{}});function o(){return(0,n.useContext)(s)}},331430:(e,t,r)=>{"use strict";r.d(t,{StickerSendReferrer:()=>i,StickerPickerContext:()=>u,useStickerPicker:()=>l});r(66992),r(747042),r(140561),r(241539),r(788674),r(333948),r(535666);var i,n=r(667294),a=r(255352);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},s.apply(this,arguments)}function o(e,t,r,i,n,a,s){try{var o=e[a](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(i,n)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function s(e){o(a,i,n,s,c,"next",e)}function c(e){o(a,i,n,s,c,"throw",e)}s(void 0)}))}}!function(e){e.RECENT="recent",e.FAVORITE="favourite",e.KEYBOARD="keyboard"}(i||(i={}));var u=(0,n.createContext)({stickersSize:0,stickersCountPerRow:0,stickersVerticalGap:0,stickersHorizontalGap:0,onStickerSend:()=>{},onVmojiEditClick:()=>{},onVmojiCreateClick:()=>{},onStockItemGiftClick:()=>{},onStockItemSettingsClick:()=>{}});function l(){var e=(0,a.useAPI)(),t=(0,n.useContext)(u),r=t.stockItems,i=t.favoriteStickers,o=function(){var t=c(regeneratorRuntime.mark((function t(r){var n,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.sticker_id,t.next=3,e.cache.getGlobalHashes();case 3:if(a=t.sent,s=a.favorite_stickers_limit,e.store.addStickersToFavorite({sticker_ids:String(n)}),i){t.next=8;break}return t.abrupt("return");case 8:e.cache.setFavoriteStickers([r,...i].slice(0,s));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=c(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.sticker_id,e.store.removeStickersFromFavorite({sticker_ids:String(n)}),i){t.next=4;break}return t.abrupt("return");case 4:if(a=i.findIndex((e=>e.sticker_id===n)),-1!==a){t.next=8;break}return t.abrupt("return");case 8:i.splice(a,1),e.cache.setFavoriteStickers(i);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=e=>"number"!=typeof e;return s({},t,{markAsViewed:t=>{if(!d(t)){var i=null==r?void 0:r.find((e=>e.product.id===t));i&&r&&i.product.is_new&&(i.product.is_new=!1,e.cache.setStockItems(r),e.store.markStickerPackAsViewed({pack_id:t}))}},addToFavorite:o,removeFromFavorite:l,isServiceStockItem:d})}},940666:(e,t,r)=>{"use strict";r.d(t,{API:()=>a});r(241539),r(426833),r(788674);var i,n=r(157773);!function(e){e.VMOJI="vmoji",e.STORE="store",e.ACCOUNT="account",e.MESSAGES="messages"}(i||(i={}));class a{constructor(e){var t=this,r=e.userId,a=e.onAPIRequest;this.onAPIRequest=a,this.cache=new n.APICache({userId:r,api:this});for(var s=function(e){t[e]=new Proxy(Object.create(null),{get:(r,i)=>r=>t.request({group:e,method:i,params:r})})},o=0,c=Object.values(i);o<c.length;o++){s(c[o])}}request(e){var t=e.group,r=e.method,i=e.params,n=void 0===i?{}:i;return this.onAPIRequest?this.onAPIRequest(`${t}.${r}`,n):Promise.reject(new Error("Root dependency for API not provided"))}}},157773:(e,t,r)=>{"use strict";r.d(t,{APICache:()=>u});r(892222),r(57327),r(682772),r(66992),r(821249),r(702707),r(651532),r(241539),r(788674),r(333948),r(535666);var i=r(659397),n=r(111878),a=r(921483);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},s.apply(this,arguments)}function o(e,t,r,i,n,a,s){try{var o=e[a](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(i,n)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function s(e){o(a,i,n,s,c,"next",e)}function c(e){o(a,i,n,s,c,"throw",e)}s(void 0)}))}}class u extends n.Cache{constructor(e){var t=e.userId,r=e.api;super(t),this.reloading=!1,this.loadedStockItemsChunks=new Map,this.api=r;var i=e=>{var t=e.key,r=e.newValue;t===u.CACHE_UPDATE_EVENT_NAME&&null!==r&&this.dispatchEvent("change")};window.addEventListener("storage",i),this.destroy=()=>{window.removeEventListener("storage",i)}}getStockItem(e){var t=this,r=e.productId,i=e.stickerId;return c(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getStockItems();case 2:if((n=e.sent)&&(r&&(a=n.find((e=>e.product.id===r))),i&&!a&&(a=n.find((e=>{var t=e.product.stickers;return t&&-1!==t.findIndex((e=>e.sticker_id===i))})))),!a){e.next=6;break}return e.abrupt("return",a);case 6:if(!r){e.next=10;break}return e.next=9,t.api.store.getStockItemByProductId({type:"stickers",product_id:String(r)}).then((e=>e)).catch((()=>{}));case 9:a=e.sent;case 10:if(!a){e.next=13;break}return t.updateStockItems([a]),e.abrupt("return",a);case 13:if(!i){e.next=17;break}return e.next=16,t.api.store.getStockItemByStickerId({sticker_id:i}).then((e=>e)).catch((()=>{}));case 16:a=e.sent;case 17:return a&&t.updateStockItems([a]),e.abrupt("return",a);case 19:case"end":return e.stop()}}),e)})))()}reload(){var e=this;return c(regeneratorRuntime.mark((function t(){var r,i,n,a,s,o,c,u,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.reloading){t.next=2;break}return t.abrupt("return",!0);case 2:return e.reloading=!0,t.next=5,e.getGlobalHashes();case 5:return r=t.sent,e.reloadHelpHints(),e.reloadVmojiAvatar(),t.next=10,Promise.all([e.api.store.hasNewItems({type:"stickers",version_hash:String(null==r?void 0:r.stickers_version_hash)}).catch((()=>null)),e.getStockItems()]);case 10:if(i=t.sent,n=i[0],a=i[1],n){t.next=16;break}return e.reloading=!1,t.abrupt("return",!1);case 16:return n.sticker_packs_version_hashes||(n.sticker_packs_version_hashes=null==r?void 0:r.sticker_packs_version_hashes),s=n.stickers_version_hash,o=n.sticker_packs_version_hashes,c=n.favorite_stickers_version_hash,u=n.image_configs_version_hash,l=n.sticker_packs_chunk_size_limit,s!==(null==r?void 0:r.stickers_version_hash)&&(a=void 0),d=[e.reloadStockItems(a,o,l),e.reloadRecentStickers()],c!==(null==r?void 0:r.favorite_stickers_version_hash)&&d.push(e.reloadFavoriteStickers()),u!==(null==r?void 0:r.image_configs_version_hash)&&d.push(e.reloadStickersImageConfigs()),t.abrupt("return",Promise.all(d).then((t=>{e.reloading=!1;var r=-1===t.findIndex((e=>!e));return r&&n&&(e.setGlobalHashes(n),e.refresh()),r})));case 23:case"end":return t.stop()}}),t)})))()}refresh(){try{localStorage.setItem(u.CACHE_UPDATE_EVENT_NAME,""),localStorage.removeItem(u.CACHE_UPDATE_EVENT_NAME)}catch(e){}}reloadHelpHints(){var e=this;return c(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getHelpHints();case 2:if(!((r=t.sent)&&Date.now()-r.date<a.DAY)){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.api.account.getHelpHints().then((e=>s({},e,{date:Date.now()}))).catch((()=>{}));case 7:i=t.sent,e.setHelpHints(i);case 9:case"end":return t.stop()}}),t)})))()}reloadVmojiAvatar(){this.hasVmojiCharacter||this.api.vmoji.getAvatar().then((e=>{var t=e.characters;this.setHasVmojiCharacter(Boolean(null==t?void 0:t.length))}))}reloadStockItems(e,t,r){var n=this;return void 0===r&&(r=25),c(regeneratorRuntime.mark((function a(){var s,o,c,u,l,d,v,m;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l=null==(s=e)||null==(o=s.filter((e=>{var r=e.product.id,i=e.version_hash,n=null==t?void 0:t.find((e=>e.pack_id===r));return!!n&&n.hash!==i})))?void 0:o.map((e=>e.product.id)),!(d=!l)){a.next=6;break}return a.next=5,n.api.store.getProducts({type:"stickers",filters:"active"}).then((e=>e.items.map((e=>e.id)))).catch((()=>{}));case 5:l=a.sent;case 6:if(null==(c=l)?void 0:c.length){a.next=8;break}return a.abrupt("return",!0);case 8:return a.next=10,Promise.all((0,i.chunkArray)(l,r).map((e=>{var t=String(e);return n.loadedStockItemsChunks.get(t)||n.api.store.getStockItems({type:"stickers",product_ids:t}).then((e=>(n.loadedStockItemsChunks.set(t,e),e)))}))).then((e=>e.reduce(((e,t)=>{var r=t.items;return e=e.concat(r)}),[]).filter((e=>!Array.isArray(e))))).catch((()=>null));case 10:if(v=a.sent){a.next=13;break}return a.abrupt("return",!1);case 13:return(null==(u=e)?void 0:u.length)&&(m=new Map(v.map((e=>[e.product.id,e]))),e=e.map((e=>m.get(e.product.id)||e)),v=e),v&&l&&d&&(v=v.sort(((e,t)=>{var r=e.product.id,i=t.product.id;return l.indexOf(r)-l.indexOf(i)}))),a.next=17,n.setStockItems(v);case 17:return n.loadedStockItemsChunks.clear(),a.abrupt("return",!0);case 19:case"end":return a.stop()}}),a)})))()}reloadStickersImageConfigs(){var e=this;return c(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.store.getStickersImageConfigs().catch((()=>null));case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:return e.setStickersImageConfigs(r),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})))()}reloadFavoriteStickers(){var e=this;return c(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.store.getFavoriteStickers().then((e=>e.items)).catch((()=>null));case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:return t.next=7,e.setFavoriteStickers(r);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})))()}reloadRecentStickers(){var e=this;return c(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.messages.getRecentStickers().then((e=>e.items)).catch((()=>null));case 2:return(r=t.sent)&&e.setRecentStickers(r),t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)})))()}}u.CACHE_UPDATE_EVENT_NAME=`${n.Cache.DB_NAME}_cache_update`},111878:(e,t,r)=>{"use strict";r.d(t,{CacheKey:()=>n,Cache:()=>l});r(57327),r(226699),r(66992),r(821249),r(702707),r(651532),r(241539),r(788674),r(132023),r(454747),r(333948),r(535666);var i,n,a=r(891047),s=r(300663),o=r(898554);function c(e,t,r,i,n,a,s){try{var o=e[a](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(i,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function s(e){c(a,i,n,s,o,"next",e)}function o(e){c(a,i,n,s,o,"throw",e)}s(void 0)}))}}!function(e){e.OBJECT="object",e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.STRING_NUMBER="string_number"}(i||(i={})),function(e){e.HELP_HINTS="helpHints",e.RECENT_EMOJI="recentEmoji",e.STOCK_ITEMS_KEY="stockItems",e.GLOBAL_HASHES_KEY="globalHashes",e.TABBAR_ACTIVE_TAB="tabbarActiveTab",e.RECENT_STICKERS_KEY="recentStickers",e.HAS_VMOJI_CHARACTER="hasVmojiCharacter",e.STICKERS_ACTIVE_TAB="stickersActiveTab",e.FAVORITE_STICKERS_KEY="favoriteStickers",e.STICKERS_IMAGE_CONFIGS="stickersImageConfigs"}(n||(n={}));class l extends s.EventDispatcher{constructor(e){super(),this.userId=e,this.store=(0,a.createStore)(l.DB_NAME,"cache")}getStockItems(e){var t=(void 0===e?{}:e).active;return this.getItem(n.STOCK_ITEMS_KEY).then((e=>(e&&(e=e.sort(((e,t)=>{var r=e.product.vmoji_avatar,i=t.product.vmoji_avatar;return Number(Boolean(i))-Number(Boolean(r))})),t&&(e=e.filter((e=>e.product.active)))),e)))}setStockItems(e){return this.setItem(n.STOCK_ITEMS_KEY,e)}updateStockItems(e){var t=this;return u(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getStockItems();case 2:return(i=r.sent)&&(a=new Map(i.map((e=>[e.product.id,e]))),e.forEach((e=>{var t=e.product.id;a.set(t,e)})),i=[...a.values()]),r.abrupt("return",t.setItem(n.STOCK_ITEMS_KEY,i||e));case 5:case"end":return r.stop()}}),r)})))()}getGlobalHashes(){return this.getItem(n.GLOBAL_HASHES_KEY)}setGlobalHashes(e){return this.setItem(n.GLOBAL_HASHES_KEY,e)}getRecentStickers(){return this.getItem(n.RECENT_STICKERS_KEY)}setRecentStickers(e){return this.setItem(n.RECENT_STICKERS_KEY,e)}getFavoriteStickers(){return this.getItem(n.FAVORITE_STICKERS_KEY)}setFavoriteStickers(e){return this.setItem(n.FAVORITE_STICKERS_KEY,e)}getStickersImageConfigs(){return this.getItem(n.STICKERS_IMAGE_CONFIGS)}setStickersImageConfigs(e){return this.setItem(n.STICKERS_IMAGE_CONFIGS,e)}get recentEmoji(){return this.getItemSync(n.RECENT_EMOJI,i.OBJECT)}setRecentEmoji(e){return this.setItemSync(n.RECENT_EMOJI,e,i.OBJECT)}get stickersActiveTab(){return this.getItemSync(n.STICKERS_ACTIVE_TAB,i.STRING_NUMBER)}setStickersActiveTab(e){return this.setItemSync(n.STICKERS_ACTIVE_TAB,e,i.STRING_NUMBER)}get tabbarActiveTab(){var e=this.getItemSync(n.TABBAR_ACTIVE_TAB,i.STRING);if(!e||o.tabs.includes(e))return e}setTabbarActiveTab(e){return this.setItemSync(n.TABBAR_ACTIVE_TAB,e,i.STRING)}getHelpHints(){return this.getItem(n.HELP_HINTS)}setHelpHints(e){return this.setItem(n.HELP_HINTS,e)}get hasVmojiCharacter(){return this.getItemSync(n.HAS_VMOJI_CHARACTER,i.BOOLEAN)}setHasVmojiCharacter(e){return this.setItemSync(n.HAS_VMOJI_CHARACTER,e,i.BOOLEAN)}clear(){return(0,a.clear)(this.store)}getItem(e){var t=this;return u(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.buildItemKey(e),i=l.cache.get(e),r.abrupt("return",(0,a.get)(e,t.store).then((e=>e||i)).catch((()=>i)));case 3:case"end":return r.stop()}}),r)})))()}setItem(e,t){var r=this;return u(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=r.buildItemKey(e),l.cache.set(n,t),i.next=4,(0,a.set)(n,t,r.store).catch((()=>{}));case 4:r.dispatchEvent("change",e);case 5:case"end":return i.stop()}}),i)})))()}deleteItem(e){var t=this.buildItemKey(e);return l.cache.delete(t),(0,a.del)(t,this.store).then((()=>{this.dispatchEvent("change",e)}))}buildItemKey(e){return`${e}-${l.VERSION}-${this.userId}`}getItemSync(e,t){e=this.buildSyncItemKey(e);try{var r=localStorage.getItem(e);if(!r)return;switch(t){case i.OBJECT:try{r=JSON.parse(r)}catch(e){return}break;case i.NUMBER:r=Number(r)||0;break;case i.STRING_NUMBER:r=Number(r)||r;break;case i.BOOLEAN:r=Boolean(Number(r))}return r}catch(t){return l.cache.get(e)}}setItemSync(e,t,r){switch(e=this.buildSyncItemKey(e),r){case i.OBJECT:t=JSON.stringify(t);break;case i.BOOLEAN:t=String(Number(t))}try{localStorage.setItem(e,t)}catch(r){l.cache.set(e,t)}}buildSyncItemKey(e){return`${l.DB_NAME}_${e}_${l.VERSION}_${this.userId}`}}l.DB_NAME="stickers",l.VERSION=2,l.cache=new Map},921483:(e,t,r)=>{"use strict";r.d(t,{DAY:()=>i});var i=864e5},972033:(e,t,r)=>{"use strict";r.d(t,{debounce:()=>i});r(66992),r(333948);function i(e,t,r){var i=null,n=()=>{null!==i&&(window.clearTimeout(i),i=null)},a=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var c=()=>{i=null,r||e(...s)};n(),i=window.setTimeout(c,t);var u=r&&!i;u&&e(...s)};return a.cancel=n,a}},810276:(e,t,r)=>{"use strict";r.d(t,{Lang:()=>n});var i;r(66992),r(241539),r(788674),r(333948),r(560285);class n{static subscribe(e){return window.addEventListener(n.UPDATE_EVENT,e),()=>{window.removeEventListener(n.UPDATE_EVENT,e)}}}n.url=new URL("/js/lang-pack.js","https://vk.ru"),n.UPDATE_EVENT="stickers_lang_update";var a=null==(i=window.vk)?void 0:i.lang;n.url.searchParams.set("format","json"),n.url.searchParams.set("cache_age","600"),n.url.searchParams.set("name","stickers_picker"),void 0!==a&&n.url.searchParams.set("lang",a),fetch(n.url).then((e=>e.json())).then((e=>{n.pack=e,dispatchEvent(new Event(n.UPDATE_EVENT))}))},606045:(e,t,r)=>{"use strict";function i(e){"scrollTo"in e||(e.scrollTo=(t,r)=>{if(t){var i,n;if("number"==typeof t)i=t,n=r;else{var a=t.top;i=t.left,n=a}void 0!==i&&(e.scrollLeft=i),void 0!==n&&(e.scrollTop=n)}})}r.d(t,{scrollToPolyfill:()=>i})},374308:(e,t,r)=>{"use strict";r.d(t,{throttle:()=>i});r(66992),r(333948);function i(e,t){var r=!1,i=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];r?i=a:(r=!0,e(...a),setTimeout((()=>{r=!1,i&&(e(i),i=null)}),t))}}},790469:(e,t,r)=>{"use strict";r.d(t,{unicodeToByteHex:()=>i});r(115306);function i(e){return encodeURIComponent(e.replace(/\uFE0F/gi,"")).replace(/%/gi,"").toLowerCase()}},876863:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={emoji:"Emoji-module__emoji--E0R4u"}},774319:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={item:"EmojiItem-module__item--yFc2D",itemActive:"EmojiItem-module__itemActive--AkzuT"}},514943:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={picker:"EmojiPicker-module__picker--XM9OV",section:"EmojiPicker-module__section--A2S0x"}},859938:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={section:"EmojiPickerSection-module__section--JFb5q",content:"EmojiPickerSection-module__content--cu7rS",contentWide:"EmojiPickerSection-module__contentWide--LZZ94",contentRegular:"EmojiPickerSection-module__contentRegular--QW1jB",contentCompact:"EmojiPickerSection-module__contentCompact--AGCye",item:"EmojiPickerSection-module__item--vop9Q"}},20903:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={header:"EmojiSectionHeader-module__header--cjAC4",headerWide:"EmojiSectionHeader-module__headerWide--OKfWs",headerRegular:"EmojiSectionHeader-module__headerRegular--SI0hi",headerCompact:"EmojiSectionHeader-module__headerCompact--kKE_b",title:"EmojiSectionHeader-module__title--UDKOn"}},661083:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={skeleton:"Skeleton-module__skeleton--y3Nn_"}},340946:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={menu:"StickerEmojiMenu-module__menu--af6VI",menuWide:"StickerEmojiMenu-module__menuWide--olJPE",menuCompact:"StickerEmojiMenu-module__menuCompact--cQ_uD",menuRegular:"StickerEmojiMenu-module__menuRegular--Cinzw",in:"StickerEmojiMenu-module__in--Uxu2O",content:"StickerEmojiMenu-module__content--kd1SV",item:"StickerEmojiMenu-module__item--pSGAJ",itemTransformed:"StickerEmojiMenu-module__itemTransformed--ht840"}},324014:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={picker:"StickerPicker-module__picker--AfAok",sections:"StickerPicker-module__sections--e7Ho5",section:"StickerPicker-module__section--kIHAA"}},997514:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={section:"StickerPickerSection-module__section--TAtTG",sectionCompact:"StickerPickerSection-module__sectionCompact--rt4cs",sticker:"StickerPickerSection-module__sticker--mfBZa",sectionRegular:"StickerPickerSection-module__sectionRegular--YZVQX",sectionWide:"StickerPickerSection-module__sectionWide--oOnAt",content:"StickerPickerSection-module__content--zYpbx",contentStickers:"StickerPickerSection-module__contentStickers--JFf59"}},121449:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={card:"VmojiCreateSection-module__card--IicaZ",image:"VmojiCreateSection-module__image--tZI4t",button:"VmojiCreateSection-module__button--S1FHY"}},249486:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={popper:"PeerInfo-module__popper--hDvxz",icon:"PeerInfo-module__icon--M0yJv"}},130172:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={header:"StickerSectionHeader-module__header--zlVO9",headerWide:"StickerSectionHeader-module__headerWide--s3gkf",headerRegular:"StickerSectionHeader-module__headerRegular--M9Xi2",headerCompact:"StickerSectionHeader-module__headerCompact--vQBm5",headerAside:"StickerSectionHeader-module__headerAside--_8bZ9",title:"StickerSectionHeader-module__title--X1zTp",icon:"StickerSectionHeader-module__icon--_tcYc",settings:"StickerSectionHeader-module__settings--GoY36",brush:"StickerSectionHeader-module__brush--CTThq",counter:"StickerSectionHeader-module__counter--fWbig"}},622226:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={in:"StickerTabItem-module__in--s10Yq",inPlaceholder:"StickerTabItem-module__inPlaceholder--iTa5t",inActive:"StickerTabItem-module__inActive--namRg",inHidden:"StickerTabItem-module__inHidden--DMegP",icon:"StickerTabItem-module__icon--w27ld",iconService:"StickerTabItem-module__iconService--tmN5C",inIndicator:"StickerTabItem-module__inIndicator--CLnv8",inCompact:"StickerTabItem-module__inCompact--p8gCh"}},850714:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={list:"StickerTabList-module__list--TGFin",scroll:"StickerTabList-module__scroll--wIhjF",listPlaceholder:"StickerTabList-module__listPlaceholder--BS8SO",item:"StickerTabList-module__item--bfJjg",chevron:"StickerTabList-module__chevron--tXp3d",shadow:"StickerTabList-module__shadow--pcJe3",shadowVisible:"StickerTabList-module__shadowVisible--GwEiM",shadowLeft:"StickerTabList-module__shadowLeft--fmADS",shadowRight:"StickerTabList-module__shadowRight--KUgIx",chevronActive:"StickerTabList-module__chevronActive--Usd6N",chevronLeft:"StickerTabList-module__chevronLeft--tPMbI",chevronRight:"StickerTabList-module__chevronRight--z4wxv"}},963849:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={tabbar:"Tabbar-module__tabbar--px5Db",item:"Tabbar-module__item--Wbo6F"}},81251:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={item:"TabbarItem-module__item--xsZ69",itemActive:"TabbarItem-module__itemActive--Fl5la",indicator:"TabbarItem-module__indicator--F2KsU",indicatorNone:"TabbarItem-module__indicatorNone--SBiZS",indicatorPrimary:"TabbarItem-module__indicatorPrimary--vnWCH",indicatorSecondary:"TabbarItem-module__indicatorSecondary--sVtQs",indicatorDestructive:"TabbarItem-module__indicatorDestructive--usYTd"}},209146:(e,t,r)=>{"use strict";r.r(t),r.d(t,{StickerPickerViewer:()=>v});var i=r(785893),n=r(973935),a=r(315544),s=r(447768),o=r(39196),c=r(730304),u=r(351554),l=r(394912),d=r(480143),v=function(){function e(){this.currentParent=null,this.onlyEmoji=!1,this.SELECTOR="StickerPickerViewer",this.SELECTOR_OPENED="StickerPickerViewer--opened",this.CLOSE_TIMEOUT=300,this.OPEN_TIMEOUT=100,this.positionSizeManager=new l.PositionSizeManager(this),this.api=new d.API}return e.prototype.hide=function(){var e=this;this.stopShowing(),this.closeTimeoutId=setTimeout((function(){e.hidePicker()}),this.CLOSE_TIMEOUT)},e.prototype.stopHiding=function(){clearTimeout(this.closeTimeoutId)},e.prototype.stopShowing=function(){clearTimeout(this.openTimeoutId)},e.prototype.show=function(e){var t=this;e&&(this.optId=(0,a.data)(e.parentNode,"optId"),this.openTimeoutId=setTimeout((function(){null===t.currentParent?t.buildPicker(e):t.currentParent!==e.parentElement?t.rebuildPicker(e):(t.stopHiding(),requestAnimationFrame((function(){t.showPicker()}))),t.positionSizeManager.manageSizeAndPosition()}),this.OPEN_TIMEOUT))},e.prototype.rebuildPicker=function(e){var t;null===(t=this.wrapper)||void 0===t||t.remove(),this.stopHiding(),this.buildPicker(e)},e.prototype.buildPicker=function(e){var t=this,r=e.parentElement;r&&(r.insertAdjacentHTML("beforeend",'\n            <div class="'+this.SELECTOR+'"></div>\n        '),this.wrapper=r.querySelector("."+this.SELECTOR),this.wrapper&&(this.wrapper.onmouseenter=function(){return t.stopHiding()},this.wrapper.onmouseleave=function(){return t.hide()},this.wrapper.onclick=function(e){return e.stopPropagation()},n.render((0,i.jsx)(s.StickerPicker,{onlyEmoji:this.onlyEmoji,packIdToOpen:this.packId},void 0),this.wrapper),requestAnimationFrame((function(){t.showPicker()}))),this.currentParent=r)},e.prototype.showPicker=function(){var e;null===(e=this.wrapper)||void 0===e||e.classList.add(this.SELECTOR_OPENED),this.dispatchCustomEvent({packId:this.packId,isVisible:!0}),this.moveStickersHints(),this.initPeerId()},e.prototype.hidePicker=function(){var e=this;if(this.wrapper){var t=function(){var r;e.dispatchCustomEvent({isVisible:!1,packId:void 0}),null===(r=e.wrapper)||void 0===r||r.removeEventListener("transitionend",t)};this.wrapper.addEventListener("transitionend",t),this.wrapper.classList.remove(this.SELECTOR_OPENED),this.packId=void 0,this.moveStickersHints(),this.clearPeerId()}},e.prototype.dispatchCustomEvent=function(e){var t;null===(t=this.wrapper)||void 0===t||t.dispatchEvent((0,o.createEvent)(e))},Object.defineProperty(e.prototype,"isShown",{get:function(){var e;return null===(e=this.wrapper)||void 0===e?void 0:e.classList.contains(this.SELECTOR_OPENED)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDown",{get:function(){return this.positionSizeManager.isDown},enumerable:!1,configurable:!0}),e.prototype.moveStickersHints=function(){(0,c.moveStickersHintsToStickerPicker)(this.optId,!0)},e.prototype.showPack=function(e,t){var r,i,n=this,a=(0,u.getClosestTextInput)(t);if(a&&e){var s=null===(i=null===(r=a.parentNode)||void 0===r?void 0:r.parentNode)||void 0===i?void 0:i.querySelector("._emoji_btn");if(s){this.packId=e,this.show(s),a.focus();var o=function(e){var t;(null===(t=e.target.classList)||void 0===t?void 0:t.contains("sticker_img"))||(n.hidePicker(),document.removeEventListener("click",o))};document.addEventListener("click",o)}}},e.prototype.initPeerId=function(){var e;this.peerId=(null===(e=window.reforgedME)||void 0===e?void 0:e.stickersSelectedPeerId)||window.cur.peer},e.prototype.clearPeerId=function(){this.peerId=void 0},e}()},447768:(e,t,r)=>{"use strict";r.d(t,{StickerPicker:()=>I});var i=r(570655),n=r(785893),a=r(86894),s=r(898554),o=r(409728),c=r(480143),u=r(944340),l=r(479957),d=r(625488),v=r(751595),m=r(194141),f=r(354454),h=r(157771),k=function(){return window.StickerPickerViewer.optId},p=(0,m.getVariant)(),I=function(e){var t=e.onlyEmoji,r=e.packIdToOpen,m=(0,f.useUpdateOnEvents)({isVisible:!0,packId:r}),I=m.isVisible,S=m.packId,_=t?s.Tab.EMOJI:void 0;return(0,n.jsx)(a.ConfigProvider,(0,i.__assign)({platform:a.Platform.VKCOM,scheme:"inherit"},{children:(0,n.jsx)(o.StickerEmojiMenu,{userId:window.vk.id,isVisible:I,visibleTab:_,variant:p,activeProductId:S,onAPIRequest:c.onAPIRequest,onShopClick:function(){var e;(0,l.statlogsValueEvent)("sticker_picker","tab_open","shop");var t=k();null===(e=window.Emoji)||void 0===e||e.showStickersStore(t)},onTabChange:function(e){var t=e.tab;e.stockItem||(0,l.statlogsValueEvent)("sticker_picker","tab_open",t)},onEmojiInsert:function(e){var t;(0,l.statlogsValueEvent)("sticker_picker","emoji_click");var r=(0,d.emojiSymbolToByteHex)(e),i=k();null===(t=window.Emoji)||void 0===t||t.addEmoji(i,r)},onStickerSend:function(e,t){var r;void 0===t&&(t="keyboard");var i=k();e.sticker_id&&(null===(r=window.Emoji)||void 0===r||r.stickerClick(i,e.sticker_id,null,t))},onVmojiEditClick:function(e){var t=e.character_id;(0,u.showVmojiConstructor)(void 0,{character_id:t})},onVmojiCreateClick:function(){var e;null===(e=window.Emoji)||void 0===e||e.createVmojiAvatar()},onStockItemGiftClick:function(e){var t=e.product.id,r=window.Emoji,i=window.StickerPickerViewer.peerId,n=void 0===i?void 0:i,a={sticker_referrer:"stickers_keyboard2"};n&&(h.Ranges.isUserIdTransitional(n)||h.Ranges.isChatOrChannelPeer(n))?null==r||r.giftSticker(t,n,null,a):null==r||r.giftSticker(t,"",null,a)},onStockItemSettingsClick:function(e){var t,r=e.product,i=r.id,n=r.vmoji_avatar;n?null===(t=window.Emoji)||void 0===t||t.showVmojiAvatar(window.vk.id,n.character_id,i):(0,v.previewStickerProduct)(i,{settings:!0})}},void 0)}),void 0)}},354454:(e,t,r)=>{"use strict";r.d(t,{useUpdateOnEvents:()=>s});var i=r(570655),n=r(667294),a=r(39196),s=function(e){var t=(0,i.__read)((0,n.useReducer)((function(e,t){return(0,i.__assign)((0,i.__assign)({},e),t)}),e),2),r=t[0],s=t[1];return(0,n.useEffect)((function(){function e(e){var t=e.detail;s(t)}var t=window.StickerPickerViewer.wrapper;return null==t||t.addEventListener(a.EVENT_KEY,e),function(){null==t||t.removeEventListener(a.EVENT_KEY,e)}}),[]),r}},480143:(e,t,r)=>{"use strict";r.d(t,{onAPIRequest:()=>s,API:()=>o});var i=r(189798),n=r(940666),a=["store.getStockItems"],s=function(e,t){return void 0===t&&(t={}),(0,i.api)(e,t,{grouping:!a.includes(e)})},o=function(){function e(){this.api=new n.API({userId:window.vk.id,onAPIRequest:s})}return e.prototype.getPack=function(e){return this.api.cache.getStockItem(e)},e}()},39196:(e,t,r)=>{"use strict";r.d(t,{EVENT_KEY:()=>i,createEvent:()=>n});var i="sticker_picker_event",n=function(e){return new CustomEvent(i,{detail:e})}},394912:(e,t,r)=>{"use strict";r.d(t,{PositionSizeManager:()=>n});var i=r(850624),n=function(){function e(e){this.IN_VK_WIDGET=window.vk.widget,this.CSS_VAR_HEIGHT="--sticker-picker-viewer-height",this.CSS_VAR_WIDTH="--sticker-picker-viewer-width",this.CSS_VAR_VERTICAL_MARGIN_FROM_ELEMENT="--vertical-margin-from-element",this.UP_POSITION_SELECTOR="StickerPickerViewer--up",this.DOWN_POSITION_SELECTOR="StickerPickerViewer--down",this.MIN_PICKER_HEIGHT=this.IN_VK_WIDGET?88:240,this.MAX_PICKER_HEIGHT=548,this.MARGIN_FROM_EDGES=32,this.MARGIN_FROM_ELEMENT=6,this.viewer=e}return e.prototype.manageSizeAndPosition=function(){var e=this.viewer,t=e.position,r=e.height;t&&r?this.setPositionAndSize():this.repositionAndResize()},e.prototype.repositionAndResize=function(){var e=this.viewer,t=e.wrapper,r=e.currentParent;if(t&&r){var i,n=r.getBoundingClientRect(),a=n.top,s=n.bottom,o=window.innerHeight,c=a-this.MARGIN_FROM_ELEMENT,u=o-s+this.MARGIN_FROM_ELEMENT;if(u<c){this.setPositionUp();var l=parseInt(getComputedStyle(document.body).getPropertyValue("--header-height"));i=c-this.MARGIN_FROM_EDGES-l}else this.setPositionDown(),i=u-this.MARGIN_FROM_EDGES;i>=this.MAX_PICKER_HEIGHT?i=this.MAX_PICKER_HEIGHT:i<=this.MIN_PICKER_HEIGHT&&(i=this.MIN_PICKER_HEIGHT),i=Math.floor(i),t.style.setProperty(this.CSS_VAR_HEIGHT,i+"px"),this.setMarginFromBaseElement()}},e.prototype.setPositionAndSize=function(){var e=this.viewer,t=e.wrapper,r=e.position,n=e.height;switch(null==t||t.style.setProperty(this.CSS_VAR_HEIGHT,n+"px"),this.setMarginFromBaseElement(),r){case i.STICKER_PICKER_POSITION.UP:this.setPositionUp();break;case i.STICKER_PICKER_POSITION.DOWN:this.setPositionDown();break;default:this.setPositionUp()}},e.prototype.setMarginFromBaseElement=function(){var e=this.viewer,t=e.wrapper,r=e.currentParent;if(r&&t){var i=r.getBoundingClientRect().height;t.style.setProperty(this.CSS_VAR_VERTICAL_MARGIN_FROM_ELEMENT,i+this.MARGIN_FROM_ELEMENT+"px")}},e.prototype.setPositionDown=function(){var e=this.viewer.wrapper;null==e||e.classList.add(this.DOWN_POSITION_SELECTOR),null==e||e.classList.remove(this.UP_POSITION_SELECTOR)},e.prototype.setPositionUp=function(){var e=this.viewer.wrapper;null==e||e.classList.add(this.UP_POSITION_SELECTOR),null==e||e.classList.remove(this.DOWN_POSITION_SELECTOR)},Object.defineProperty(e.prototype,"isDown",{get:function(){var e=this.viewer.wrapper;return null==e?void 0:e.classList.contains(this.DOWN_POSITION_SELECTOR)},enumerable:!1,configurable:!0}),e}()},351554:(e,t,r)=>{"use strict";r.d(t,{getClosestTextInput:()=>i});var i=function(e){if(e.getAttribute("contenteditable"))return e;var t=e.closest(".js-im-page, .fc_tab, .mv_chat");return t?t.matches(".fc_tab")?t.querySelector(".fc_editable"):t.matches(".js-im-page")?document.querySelector("._im_text"):t.matches(".mv_chat")?t.querySelector(".mv_chat_reply_input"):null:null}},194141:(e,t,r)=>{"use strict";r.d(t,{getVariant:()=>n});var i=r(777995);function n(){var e=window.vk,t=window.innerWidth,r=i.StickerEmojiMenuVariant.COMPACT,n=i.StickerEmojiMenuVariant.REGULAR,a=i.StickerEmojiMenuVariant.WIDE;if(e.widget){if(t<360)return r;if(t<430)return n}return a}},850624:(e,t,r)=>{"use strict";var i;r.d(t,{STICKER_PICKER_POSITION:()=>i}),function(e){e.UP="up",e.DOWN="down"}(i||(i={}))}}]);try{stManager.done("dist/fba43c7a1c8ad19aa306e4c66812a52a.7203340a964c0545c2be.js")}catch(e){}